{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[382],{778:function(e,t,a){\"use strict\";a.r(t);var n=a(56),r=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"deploy-oneagent\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#deploy-oneagent\"}},[e._v(\"#\")]),e._v(\" Deploy OneAgent\")]),e._v(\" \"),a(\"p\",[e._v('{% embed url=\"https://youtu.be/K2PVsCivTMU\" caption=\"\" %}')]),e._v(\" \"),a(\"p\",[e._v('{% hint style=\"info\" %}\\nWe will provide step-by-step instruction to help you get started quickly. For in depth product documentation, visit the following Dynatrace Documentation pages:')]),e._v(\" \"),a(\"ol\",[a(\"li\",[a(\"a\",{attrs:{href:\"https://www.dynatrace.com/support/help/setup-and-configuration/setup-on-container-platforms/kubernetes/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Set up Dynatrace on Kubernetes\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"https://www.dynatrace.com/support/help/setup-and-configuration/dynatrace-activegate/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Dynatrace ActiveGate\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"https://www.dynatrace.com/support/help/setup-and-configuration/dynatrace-oneagent/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Dynatrace OneAgent\"),a(\"OutboundLink\")],1),e._v(\"\\n{% endhint %}\")])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"step-1\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-1\"}},[e._v(\"#\")]),e._v(\" Step 1:\")]),e._v(\" \"),a(\"p\",[e._v(\"From your Dynatrace environment, navigate to \"),a(\"strong\",[e._v(\"Infrastructure\")]),e._v(\" and then \"),a(\"strong\",[e._v(\"Kubernetes\")]),e._v(\" in the left navigation menu as shown below:\")]),e._v(\" \"),a(\"p\",[e._v(\"(IMAGE REMOVED!) - (https://partner-workshop-assets.s3.us-east-2.amazonaws.com/dynatrace-k8s-config-01.png)\")]),e._v(\" \"),a(\"p\",[e._v(\"Select \"),a(\"strong\",[e._v(\"Add Custer\")]),e._v(\".\")]),e._v(\" \"),a(\"h2\",{attrs:{id:\"step-2\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-2\"}},[e._v(\"#\")]),e._v(\" Step 2:\")]),e._v(\" \"),a(\"p\",[e._v(\"Provide a name for your connection as shown below:\")]),e._v(\" \"),a(\"p\",[e._v('{% hint style=\"info\" %}\\nThis name simplifies deployment and is used by various Dynatrace settings including Kubernetes cluster name, Network Zone, ActiveGate Group, and Host Group. For individually unique settings follow activation instructions from '),a(\"a\",{attrs:{href:\"https://dt-url.net/a32h0p41\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Kubernetes monitoring documentation\"),a(\"OutboundLink\")],1),e._v(\".\\n{% endhint %}\")]),e._v(\" \"),a(\"p\",[e._v(\"(IMAGE REMOVED!) - (https://partner-workshop-assets.s3.us-east-2.amazonaws.com/dynatrace-k8s-config-02.png)\")]),e._v(\" \"),a(\"p\",[e._v(\"Then click on \"),a(\"strong\",[e._v(\"Create tokens\")]),e._v(\".\")]),e._v(\" \"),a(\"p\",[e._v('{% hint style=\"warning\" %}\\n'),a(\"strong\",[e._v(\"DO NOT\")]),e._v(\" leave this menu. You will need to copy and paste a few things and switch to your terminal and back for the remaining steps. If you navigate away from this menu, you will need to create new tokens and break the process.\\n{% endhint %}\")]),e._v(\" \"),a(\"h2\",{attrs:{id:\"step-3\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-3\"}},[e._v(\"#\")]),e._v(\" Step 3:\")]),e._v(\" \"),a(\"p\",[e._v(\"From your terminal, create a namespace and deploy the \"),a(\"a\",{attrs:{href:\"https://github.com/dynatrace/dynatrace-operator\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Dynatrace Operator\"),a(\"OutboundLink\")],1),e._v(\" into your K8s cluster.\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"kubectl create namespace dynatrace\\nkubectl apply -f https://github.com/Dynatrace/dynatrace-operator/releases/latest/download/kubernetes.yaml\\n\")])])]),a(\"p\",[e._v(\"Next, copy and paste the \"),a(\"strong\",[e._v(\"PaaS Token\")]),e._v(\" & \"),a(\"strong\",[e._v(\"API Token\")]),e._v(\" from \"),a(\"strong\",[e._v(\"Step 2\")]),e._v(\" into the following command:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"kubectl -n dynatrace create secret generic dynakube --from-literal\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[e._v('\"apiToken=DYNATRACE_API_TOKEN\"')]),e._v(\" --from-literal\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[e._v('\"paasToken=PLATFORM_AS_A_SERVICE_TOKEN\"')]),e._v(\"\\n\")])])]),a(\"h2\",{attrs:{id:\"step-4\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-4\"}},[e._v(\"#\")]),e._v(\" Step 4:\")]),e._v(\" \"),a(\"p\",[e._v(\"Go back to your Dynatrace environment Dashboard and copy the command shown below.\")]),e._v(\" \"),a(\"p\",[e._v(\"(IMAGE REMOVED!) - (https://partner-workshop-assets.s3.us-east-2.amazonaws.com/dynatrace-k8s-config-03.png)\")]),e._v(\" \"),a(\"p\",[e._v(\"Once copied, switch back to your terminal and execute the example command:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"wget\")]),e._v(\" https://github.com/dynatrace/dynatrace-operator/releases/latest/download/install.sh \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n -O install.sh \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"&&\")]),e._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"sh\")]),e._v(\" ./install.sh --api-url \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[e._v('\"'),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e._v(\"$YOUR_API_URL\")]),e._v('\"')]),e._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n --api-token \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[e._v('\"'),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e._v(\"$YOUR_API_TOKEN\")]),e._v('\"')]),e._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n --paas-token \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[e._v('\"'),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e._v(\"$YOUR_PASS_TOKEN\")]),e._v('\"')]),e._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n --cluster-name \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[e._v('\"'),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e._v(\"$YOUR_CLUSTER_NAME\")]),e._v('\"')]),e._v(\"\\n\")])])]),a(\"p\",[e._v(\"Where \"),a(\"strong\",[e._v(\"$YOUR_API_URL\")]),e._v(\" is that of your Dynatrace tenant, \"),a(\"strong\",[e._v(\"$YOUR_API_TOKEN\")]),e._v(\", \"),a(\"strong\",[e._v(\"$YOUR_PASS_TOKEN\")]),e._v(\" and \"),a(\"strong\",[e._v(\"$YOUR_CLUSTER_NAME\")]),e._v(\" are those created above. If successful, you will see results similar to what is shown below:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-text extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[e._v(\"Check for token scopes...\\n\\nCheck if cluster already exists...\\n\\nCreating Dynatrace namespace...\\n\\nApplying Dynatrace Operator...\\ncustomresourcedefinition.apiextensions.k8s.io/dynakubes.dynatrace.com configured\\nserviceaccount/dynatrace-dynakube-oneagent unchanged\\nserviceaccount/dynatrace-dynakube-oneagent-unprivileged unchanged\\nserviceaccount/dynatrace-kubernetes-monitoring unchanged\\nserviceaccount/dynatrace-operator unchanged\\nserviceaccount/dynatrace-routing unchanged\\nrole.rbac.authorization.k8s.io/dynatrace-operator unchanged\\nclusterrole.rbac.authorization.k8s.io/dynatrace-kubernetes-monitoring unchanged\\nclusterrole.rbac.authorization.k8s.io/dynatrace-operator unchanged\\nrolebinding.rbac.authorization.k8s.io/dynatrace-operator unchanged\\nclusterrolebinding.rbac.authorization.k8s.io/dynatrace-kubernetes-monitoring unchanged\\nclusterrolebinding.rbac.authorization.k8s.io/dynatrace-operator unchanged\\ndeployment.apps/dynatrace-operator unchanged\\nWarning: kubectl apply should be used on resource created by either kubectl create --save-config or kubectl apply\\nsecret/dynakube configured\\n\\nApplying DynaKube CustomResource...\\ndynakube.dynatrace.com/dynakube created\\n\\nAdding cluster to Dynatrace...\\nKubernetes monitoring successfully setup.\\n\")])])]),a(\"p\",[e._v(\"That's it! You are ready to move to the next section.\")])])}),[],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}