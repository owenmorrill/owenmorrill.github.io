{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[942],{1341:function(e,t,s){\"use strict\";s.r(t);var a=s(56),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"validate-kubernetes-files-with-snyk\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#validate-kubernetes-files-with-snyk\"}},[e._v(\"#\")]),e._v(\" Validate Kubernetes files with Snyk\")]),e._v(\" \"),s(\"h2\",{attrs:{id:\"validate-kubernetes-files-and-deploy-spc-to-kubernetes\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#validate-kubernetes-files-and-deploy-spc-to-kubernetes\"}},[e._v(\"#\")]),e._v(\" Validate Kubernetes files and deploy SPC to Kubernetes\")]),e._v(\" \"),s(\"p\",[e._v(\"Let's use the Snyk CLI to validate our Kubernetes files meet our security policies from the developer's environment. Assuming we are in the root folder of the SPC application, execute this command. The output will show any security issues Snyk has discovered and suggestions on how to fix the Kubernetes files.\")]),e._v(\" \"),s(\"h3\",{attrs:{id:\"test-spc-kubernetes-yaml-files\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#test-spc-kubernetes-yaml-files\"}},[e._v(\"#\")]),e._v(\" Test SPC Kubernetes YAML files\")]),e._v(\" \"),s(\"div\",{staticClass:\"language-text extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[e._v(\"snyk iac test kubernetes/petclinic-deployment.yaml\\n\")])])]),s(\"p\",[s(\"img\",{attrs:{src:\"https://partner-workshop-assets.s3.us-east-2.amazonaws.com/screen-shot-2020-08-26-at-2.54.26-pm.png\",alt:\"\"}})]),e._v(\" \"),s(\"p\",[e._v('{% hint style=\"info\" %}\\nThis scan will be immediate.\\n{% endhint %}')]),e._v(\" \"),s(\"h2\",{attrs:{id:\"deploy-spc-to-kubernetes\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#deploy-spc-to-kubernetes\"}},[e._v(\"#\")]),e._v(\" Deploy SPC to Kubernetes\")]),e._v(\" \"),s(\"p\",[e._v(\"After a quick validation check of our Kubernetes files, let's complete our developer experience. We will deploy a Helm based MySQL instance and the SPC application. After the deployment is complete, we will send a simple request to validate our deployment.\")]),e._v(\" \"),s(\"p\",[e._v(\"The lab VM is configured with a Kubernetes cluster to deploy the SPC application. We have created alias commands for Kubectl (k) and Helm (h) to save your fingers from typing. We are also using a namespace called demo.\")]),e._v(\" \"),s(\"h3\",{attrs:{id:\"create-a-kubernetes-namespace\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#create-a-kubernetes-namespace\"}},[e._v(\"#\")]),e._v(\" Create a Kubernetes namespace\")]),e._v(\" \"),s(\"div\",{staticClass:\"language-text extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[e._v(\"k create namespace demo\\n\")])])]),s(\"h3\",{attrs:{id:\"deploy-mysql-database\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#deploy-mysql-database\"}},[e._v(\"#\")]),e._v(\" Deploy MySQL Database\")]),e._v(\" \"),s(\"div\",{staticClass:\"language-text extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[e._v(\"h install petclinic-db --set mysqlDatabase=petclinic stable/mysql --namespace demo\\n\")])])]),s(\"h3\",{attrs:{id:\"deploy-spc-kubernetes-deployment\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#deploy-spc-kubernetes-deployment\"}},[e._v(\"#\")]),e._v(\" Deploy SPC Kubernetes deployment\")]),e._v(\" \"),s(\"div\",{staticClass:\"language-text extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[e._v(\"k -n demo apply -f kubernetes/petclinic-deployment.yaml\\n\")])])]),s(\"div\",{staticClass:\"language-text extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[e._v(\"k -n demo apply -f kubernetes/petclinic-svc-nodeport.yaml\\n\")])])]),s(\"h3\",{attrs:{id:\"test-spc-application\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#test-spc-application\"}},[e._v(\"#\")]),e._v(\" Test SPC application\")]),e._v(\" \"),s(\"p\",[e._v(\"Validate the deployment using the SPC button at the top of your lab view.\")]),e._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://partner-workshop-assets.s3.us-east-2.amazonaws.com/spc_button_purpcle_cicle.png\",alt:\"\"}})]),e._v(\" \"),s(\"p\",[e._v(\"Assuming all configuration is correct, the SPC button will show the SPC home page.\")]),e._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://partner-workshop-assets.s3.us-east-2.amazonaws.com/screen-shot-2020-08-28-at-3.57.03-pm.png\",alt:\"\"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}