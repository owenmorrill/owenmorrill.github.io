{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[421],{820:function(e,t,a){\"use strict\";a.r(t);var r=a(56),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"deploy-an-application\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#deploy-an-application\"}},[e._v(\"#\")]),e._v(\" Deploy an application\")]),e._v(\" \"),a(\"h2\",{attrs:{id:\"kubernetes-manifest\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#kubernetes-manifest\"}},[e._v(\"#\")]),e._v(\" Kubernetes manifest\")]),e._v(\" \"),a(\"p\",[e._v(\"We will deploy our sample application using a \"),a(\"a\",{attrs:{href:\"https://docs.microsoft.com/en-us/azure/aks/concepts-clusters-workloads#deployments-and-yaml-manifests\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Kubernetes manifest\"),a(\"OutboundLink\")],1),e._v(\" file. A sample file named \"),a(\"a\",{attrs:{href:\"https://github.com/snyk-partners/snyk-azure-resources/blob/master/templates/azure-vote.yaml\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[e._v(\"azure-vote.yaml\")]),a(\"OutboundLink\")],1),e._v(\" is provided for your convenience in the repository. The manifest includes two Kubernetes deployments: one for a sample Azure Vote Python application and the other for a \"),a(\"a\",{attrs:{href:\"https://redislabs.com/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Redis\"),a(\"OutboundLink\")],1),e._v(\" instance. Two Kubernetes \"),a(\"a\",{attrs:{href:\"https://docs.microsoft.com/en-us/azure/aks/concepts-network#services\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"services\"),a(\"OutboundLink\")],1),e._v(\" are also created: one is an internal service for the Redis instance and the other is an external service to allow access to the application from the internet.\")]),e._v(\" \"),a(\"p\",[e._v(\"If you have cloned the repository and are working from the local directory, run the following command to deploy the application from the \"),a(\"code\",[e._v(\"YAML\")]),e._v(\" manifest:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"kubectl apply -f kube-manifests/azure-vote.yaml\\n\")])])]),a(\"p\",[e._v(\"If successful, you should see output similar to the following:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-text extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[e._v('deployment \"azure-vote-back\" created\\nservice \"azure-vote-back\" created\\ndeployment \"azure-vote-front\" created\\nservice \"azure-vote-front\" created\\n')])])]),a(\"h2\",{attrs:{id:\"test-the-application\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#test-the-application\"}},[e._v(\"#\")]),e._v(\" Test the application\")]),e._v(\" \"),a(\"p\",[e._v(\"We will invoke the \"),a(\"a\",{attrs:{href:\"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#get\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"kubectl get service\"),a(\"OutboundLink\")],1),e._v(\" from our CLI with the \"),a(\"code\",[e._v(\"--watch\")]),e._v(\" argument to monitor the application deployment and obtain the \"),a(\"code\",[e._v(\"EXTERNAL-IP\")]),e._v(\" of the \"),a(\"code\",[e._v(\"LoadBalancer\")]),e._v(\".\")]),e._v(\" \"),a(\"p\",[e._v(\"Run the following command:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"kubectl get \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"service\")]),e._v(\" azure-vote-front --watch\\n\")])])]),a(\"p\",[e._v(\"While the application is deploying you may see output similar to the following:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-text extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[e._v(\"NAME               TYPE           CLUSTER-IP   EXTERNAL-IP   PORT(S)        AGE\\nazure-vote-front   LoadBalancer   10.0.37.27   &lt;pending>     80:30572/TCP   6s\\n\")])])]),a(\"p\",[e._v(\"Note that \"),a(\"code\",[e._v(\"EXTERNAL-IP\")]),e._v(\" displays a status of \"),a(\"code\",[e._v(\"pending\")]),e._v(\". Wait until this displays a valid public IP address then copy and paste this value into your web browser.\")]),e._v(\" \"),a(\"p\",[e._v(\"Your browser should resolve and display the following:\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://partner-workshop-assets.s3.us-east-2.amazonaws.com/azure_voting_app.png\",alt:\"\"}})])])}),[],!1,null,null,null);t.default=s.exports}}]);","extractedComments":[]}