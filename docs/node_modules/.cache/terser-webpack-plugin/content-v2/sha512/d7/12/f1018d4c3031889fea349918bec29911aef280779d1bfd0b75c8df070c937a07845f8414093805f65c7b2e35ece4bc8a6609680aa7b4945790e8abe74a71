{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[811],{1210:function(t,a,s){\"use strict\";s.r(a);var e=s(56),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"example-2\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#example-2\"}},[t._v(\"#\")]),t._v(\" Example 2\")]),t._v(\" \"),s(\"p\",[t._v(\"Our second example vulnerability is with the \"),s(\"a\",{attrs:{href:\"https://www.npmjs.com/package/marked\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"code\",[t._v(\"marked\")]),s(\"OutboundLink\")],1),t._v(\" \"),s(\"a\",{attrs:{href:\"https://www.npmjs.com/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"npm\"),s(\"OutboundLink\")],1),t._v(\" package. This is a module for parsing markdown. The issue here is that we are using \"),s(\"code\",[t._v(\"marked@0.3.5\")]),t._v(\" and this has a \"),s(\"a\",{attrs:{href:\"https://snyk.io/vuln/npm:marked:20150520\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Cross-site Scripting (XSS)\"),s(\"OutboundLink\")],1),t._v(\" vulnerability.\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://partner-workshop-assets.s3.us-east-2.amazonaws.com/vuln_marked.png\",alt:\"\"}})]),t._v(\" \"),s(\"p\",[t._v(\"How this is used in our sample application is that it allows for us to take Markdown input and convert this to HTML. This enables us to add items to our list with emphasis such as \"),s(\"strong\",[t._v(\"bold\")]),t._v(\" or add links.\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"http://g.recordit.co/5EUgGYBNXq.gif\",alt:\"\"}})]),t._v(\" \"),s(\"p\",[t._v(\"So where is the vulnerability? Let's take a look through the following example. We are going to add another link to our list, but this time, we will include \"),s(\"code\",[t._v(\"javascript\")]),t._v(\".\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-javascript extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"Gotcha\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"javascript\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"alert\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"This will not work. So we can substitute with \"),s(\"a\",{attrs:{href:\"https://dev.w3.org/html5/html-author/charref\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"HTML entities\"),s(\"OutboundLink\")],1),t._v(\". For example, \"),s(\"code\",[t._v(\":\")]),t._v(\" becomes \"),s(\"code\",[t._v(\"&#58;\")]),t._v(\" and \"),s(\"code\",[t._v(\")\")]),t._v(\" becomes \"),s(\"code\",[t._v(\"&#41;\")]),t._v(\".\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-javascript extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"Gotcha\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"javascript\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&\")]),t._v(\"#\"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"58\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"alert\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&\")]),t._v(\"#\"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"41\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"This too will not work and the output will get trimmed. So, we will break this up by typing \"),s(\"code\",[t._v(\"this\")]),t._v(\" in our string. Our \"),s(\"code\",[t._v(\"marked\")]),t._v(\" package will let this through and our browser will forgive our mistake.\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-javascript extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"Gotcha\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"javascript\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&\")]),t._v(\"#58this\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"alert\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&\")]),t._v(\"#\"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"41\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"The result would look like this:\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"http://g.recordit.co/plmfP4ZqNU.gif\",alt:\"\"}})]),t._v(\" \"),s(\"p\",[t._v(\"Now, if we click on the link we will see the \"),s(\"code\",[t._v(\"javascript\")]),t._v(\" alert pop-up.\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://partner-workshop-assets.s3.us-east-2.amazonaws.com/goof_marked.png\",alt:\"\"}})]),t._v(\" \"),s(\"p\",[t._v(\"This is a crude example, but demonstrates the potential for something much more sophisticated to be introduced and significantly compromise security.\")])])}),[],!1,null,null,null);a.default=r.exports}}]);","extractedComments":[]}