{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{481:function(t,e,o){\"use strict\";o.r(e);var r=o(56),i=Object(r.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[r(\"h1\",{attrs:{id:\"bitbucket-cloud-integration\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#bitbucket-cloud-integration\"}},[t._v(\"#\")]),t._v(\" Bitbucket Cloud integration\")]),t._v(\" \"),r(\"p\",[t._v(\"Snyk's Bitbucket Cloud integration allows you to continuously perform security scanning across all the integrated repositories, detect vulnerabilities in your open source components, and use automated fixes.\")]),t._v(\" \"),r(\"blockquote\",[r(\"p\",[r(\"strong\",[t._v(\"Feature availability\")]),r(\"br\"),t._v(\"\\nThis feature is available for all plans. See \"),r(\"a\",{attrs:{href:\"https://snyk.io/plans/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"pricing plans\"),r(\"OutboundLink\")],1),t._v(\" for more details.\")])]),t._v(\" \"),r(\"h2\",{attrs:{id:\"setting-up-a-bitbucket-cloud-integration\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#setting-up-a-bitbucket-cloud-integration\"}},[t._v(\"#\")]),t._v(\" Setting up a Bitbucket Cloud Integration\")]),t._v(\" \"),r(\"blockquote\",[r(\"p\",[t._v(\"The newly created user must have \"),r(\"strong\",[t._v(\"Admin\")]),t._v(\" permissions to all the repositories you need to monitor with Snyk.\")]),t._v(\" \"),r(\"p\",[t._v(\"Admin permissions are required; however, Snyk's access is ultimately limited by the \"),r(\"a\",{attrs:{href:\"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"permissions assigned to the App Password\"),r(\"OutboundLink\")],1),t._v(\".\")])]),t._v(\" \"),r(\"ol\",[r(\"li\",[r(\"p\",[t._v(\"To give Snyk access to your Bitbucket account\")]),t._v(\" \"),r(\"ol\",[r(\"li\",[t._v(\"Set up a dedicated service account in Bitbucket, with admin permissions.\")]),t._v(\" \"),r(\"li\",[t._v(\"Visit \"),r(\"a\",{attrs:{href:\"https://support.atlassian.com/bitbucket-cloud/docs/grant-access-to-a-workspace/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Bitbucket documentation \"),r(\"OutboundLink\")],1),t._v(\"to learn more about creating users.\")])])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"In Snyk, go to the \"),r(\"strong\",[t._v(\"Integrations\")]),t._v(\" page and click on \"),r(\"strong\",[t._v(\"Bitbucket Cloud\")]),t._v(\" card.\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"Access your Bitbucket Cloud account and create a unique App Password for Snyk with the following permissions:\")]),t._v(\" \"),r(\"ol\",[r(\"li\",[r(\"strong\",[t._v(\"Account: Email & Read\")])]),t._v(\" \"),r(\"li\",[r(\"strong\",[t._v(\"Workspace membership: Read\")])]),t._v(\" \"),r(\"li\",[r(\"strong\",[t._v(\"Projects: Read\")])]),t._v(\" \"),r(\"li\",[r(\"strong\",[t._v(\"Repositories: Read & Write\")])]),t._v(\" \"),r(\"li\",[r(\"strong\",[t._v(\"Pull requests: Read & Write\")])]),t._v(\" \"),r(\"li\",[r(\"strong\",[t._v(\"Webhooks: Read & Write\")]),t._v(\" \"),r(\"ol\",[r(\"li\",[t._v(\"Follow \"),r(\"a\",{attrs:{href:\"https://confluence.atlassian.com/bitbucket/app-passwords-828781300.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Bitbucket documentation\"),r(\"OutboundLink\")],1),t._v(\" to see how to do this in detail.\")])])])])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"Enter the username, which can be found under BitBucket's Personal settings, and the \"),r(\"a\",{attrs:{href:\"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"App Password for the service account\"),r(\"OutboundLink\")],1),t._v(\" you created:\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"Click \"),r(\"strong\",[t._v(\"Save\")]),t._v(\".\"),r(\"br\"),t._v(\"\\nSnyk connects to your Bitbucket Cloud account. When the connection succeeds, the following indications appear:\")]),t._v(\" \"),r(\"p\",[t._v(\"![](<../../../.gitbook/assets/settings (1).png>)\"),r(\"br\"),t._v(\"\\nYou can now select the repositories for Snyk to monitor.\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"Click \"),r(\"strong\",[t._v(\"Add your Bitbucket Cloud repositories to Snyk\")]),t._v(\" to start importing repositories to Snyk.\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"Select the repositories to import to Snyk when prompted, then click \"),r(\"strong\",[t._v(\"Add selected repositories\")]),t._v(\".\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"Snyk scans the selected repositories for dependency files (such as package.json and pom.xml) in the entire directory tree, and import them to Snyk as projects:\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"The imported projects appear in your \"),r(\"strong\",[t._v(\"Projects\")]),t._v(\" page and are continuously checked for vulnerabilities.\")])])]),t._v(\" \"),r(\"p\",[t._v(\"![](<../../../.gitbook/assets/444 (2) (4) (4) (4) (5) (4) (1) (1) (1) (1) (1) (1) (1) (1) (1) (10) (10).png>)\")]),t._v(\" \"),r(\"h2\",{attrs:{id:\"bitbucket-cloud-integration-features\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#bitbucket-cloud-integration-features\"}},[t._v(\"#\")]),t._v(\" Bitbucket Cloud Integration Features\")]),t._v(\" \"),r(\"p\",[t._v(\"After the integration is done, you can use the following capabilities:\")]),t._v(\" \"),r(\"h2\",{attrs:{id:\"project-level-security-reports\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#project-level-security-reports\"}},[t._v(\"#\")]),t._v(\" Project level security reports\")]),t._v(\" \"),r(\"p\",[t._v(\"Snyk produces advanced security reports, allowing you to explore the vulnerabilities found in your repositories, and fix them immediately by opening a fix pull request directly to your repository, with the required upgrades or patches.\")]),t._v(\" \"),r(\"p\",[t._v(\"This is an example of a project level security report:\")]),t._v(\" \"),r(\"p\",[t._v(\"![](<../../../.gitbook/assets/mceclip0-22- (2) (5) (6) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (10) (31).png>)\")]),t._v(\" \"),r(\"h2\",{attrs:{id:\"projects-monitoring-and-automatic-fix-pull-requests\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#projects-monitoring-and-automatic-fix-pull-requests\"}},[t._v(\"#\")]),t._v(\" Projects monitoring and automatic fix pull requests\")]),t._v(\" \"),r(\"p\",[t._v(\"Snyk frequently scans your projects on either a daily or a weekly basis. When new vulnerabilities are found, it notifies you by email and by opening an automated pull requests with fixes to repositories.\")]),t._v(\" \"),r(\"p\",[t._v(\"Here is an example of a fix pull request opened by Snyk:\")]),t._v(\" \"),r(\"p\",[r(\"img\",{attrs:{src:o(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/666.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}})]),t._v(\" \"),r(\"p\",[t._v(\"To review and adjust the automatic fix pull request settings:\")]),t._v(\" \"),r(\"p\",[t._v(\"Click on settings\"),r(\"img\",{attrs:{src:o(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/cog_icon.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"cog_icon.png\"}}),t._v(\" > \"),r(\"strong\",[t._v(\"Integrations\")]),t._v(\". 2. Select \"),r(\"strong\",[t._v(\"Edit Settings\")]),t._v(\" for Bitbucket Cloud. 3. Navigate to \"),r(\"strong\",[t._v(\"Automatic fix pull requests\")]),t._v(\":\")]),t._v(\" \"),r(\"p\",[t._v(\"![](<../../../.gitbook/assets/mceclip4 (1) (2) (6) (7) (3) (1) (1) (1) (1) (1) (1) (1) (1) (1) (10) (26).png>)\")]),t._v(\" \"),r(\"h2\",{attrs:{id:\"pull-request-tests\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#pull-request-tests\"}},[t._v(\"#\")]),t._v(\" Pull request tests\")]),t._v(\" \"),r(\"p\",[t._v(\"Snyk tests any newly created pull request in your repositories for security vulnerabilities, and sends a build check to Bitbucket Cloud. You can to see whether the pull request introduces new security issues, directly from Bitbucket Cloud.\")]),t._v(\" \"),r(\"p\",[t._v(\"This is how Snyk pull request build check appears in the \"),r(\"strong\",[t._v(\"Pull Request\")]),t._v(\" page in Bitbucket Cloud:\")]),t._v(\" \"),r(\"p\",[r(\"img\",{attrs:{src:o(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/888.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}})]),t._v(\" \"),r(\"p\",[t._v(\"To review and adjust the pull request tests settings,\")]),t._v(\" \"),r(\"ol\",[r(\"li\",[t._v(\"Click on settings\"),r(\"img\",{attrs:{src:o(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/cog_icon.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"cog_icon.png\"}}),t._v(\" > \"),r(\"strong\",[t._v(\"Integrations\")]),t._v(\".\")]),t._v(\" \"),r(\"li\",[t._v(\"Select \"),r(\"strong\",[t._v(\"Edit Settings\")]),t._v(\" for Bitbucket Cloud.\")]),t._v(\" \"),r(\"li\",[t._v(\"Navigate to \"),r(\"strong\",[t._v(\"Default Snyk test for pull requests\")])])]),t._v(\" \"),r(\"p\",[r(\"img\",{attrs:{src:o(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/999.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}})]),t._v(\" \"),r(\"h2\",{attrs:{id:\"required-permissions-scope-for-the-bitbucket-cloud-integration\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#required-permissions-scope-for-the-bitbucket-cloud-integration\"}},[t._v(\"#\")]),t._v(\" Required permissions scope for the Bitbucket Cloud integration\")]),t._v(\" \"),r(\"p\",[t._v(\"All the operations, triggered manually or automatically, are performed for a Bitbucket Cloud service account that has its token (App Password) is configured in the integrations settings. This shows the required access scopes for the configured token:\")]),t._v(\" \"),r(\"table\",[r(\"thead\",[r(\"tr\",[r(\"th\",[r(\"strong\",[t._v(\"Action\")])]),t._v(\" \"),r(\"th\",[r(\"strong\",[t._v(\"Why?\")])]),t._v(\" \"),r(\"th\",[r(\"strong\",[t._v(\"Required permissions in Bitbucket\")])])])]),t._v(\" \"),r(\"tbody\",[r(\"tr\",[r(\"td\",[t._v(\"Daily / weekly tests\")]),t._v(\" \"),r(\"td\",[t._v(\"For reading manifest files in private repos\")]),t._v(\" \"),r(\"td\",[r(\"em\",[t._v(\"Repositories read\")])])]),t._v(\" \"),r(\"tr\",[r(\"td\",[t._v(\"Manual fix pull requests (triggered by the user)\")]),t._v(\" \"),r(\"td\",[t._v(\"For creating fix PRs in the monitored repos\")]),t._v(\" \"),r(\"td\",[r(\"em\",[t._v(\"Repositories (read & write)\")]),t._v(\" \"),r(\"em\",[t._v(\"pull requests (read & write)\")])])]),t._v(\" \"),r(\"tr\",[r(\"td\",[t._v(\"Automatic fix and upgrade pull requests\")]),t._v(\" \"),r(\"td\",[t._v(\"For creating fix / upgrade PRs in the monitored repos\")]),t._v(\" \"),r(\"td\",[r(\"em\",[t._v(\"Repositories (read & write)\")]),t._v(\" \"),r(\"em\",[t._v(\"pull requests (read & write)\")])])]),t._v(\" \"),r(\"tr\",[r(\"td\",[t._v(\"Snyk tests on pull requests\")]),t._v(\" \"),r(\"td\",[t._v(\"For sending pull request status checks whenever a new PR is created / an existing PR is updated\")]),t._v(\" \"),r(\"td\",[r(\"em\",[t._v(\"Repositories (read & write)\")]),t._v(\" \"),r(\"em\",[t._v(\"pull requests (read & write)\")])])]),t._v(\" \"),r(\"tr\",[r(\"td\",[t._v(\"Importing new projects to Snyk\")]),t._v(\" \"),r(\"td\",[t._v('For presenting a list of all the available repos in the Bitbucket in the \"Add Projects\" screen (import popup)')]),t._v(\" \"),r(\"td\",[r(\"em\",[t._v(\"Account (read)\")]),t._v(\" \"),r(\"em\",[t._v(\"Workspace membership (read)\")]),t._v(\" \"),r(\"em\",[t._v(\"Projects (read)\")])])]),t._v(\" \"),r(\"tr\",[r(\"td\",[t._v(\"Snyk tests on pull requests - initial configuration\")]),t._v(\" \"),r(\"td\",[t._v(\"For adding Snyk's webhooks to the imported repos, so Snyk will be informed whenever pull requests are created or updated and be able to trigger scans.\")]),t._v(\" \"),r(\"td\",[r(\"em\",[t._v(\"webhooks (read & write)\")])])])])]),t._v(\" \"),r(\"h2\",{attrs:{id:\"required-permissions-scope-for-repositories\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#required-permissions-scope-for-repositories\"}},[t._v(\"#\")]),t._v(\" Required permissions scope for repositories \"),r(\"a\",{attrs:{href:\"#h_01eefvj14p8b3depeffvyvdwzj\",id:\"h_01eefvj14p8b3depeffvyvdwzj\"}})]),t._v(\" \"),r(\"p\",[t._v(\"For Snyk to perform the required operations on monitored repositories (such as reading manifest files on a frequent basis and opening fix or upgrade PRs), the integrated Bitbucket Cloud service account needs \"),r(\"strong\",[t._v(\"Admin\")]),t._v(\" permissions on the imported repositories:\")]),t._v(\" \"),r(\"table\",[r(\"thead\",[r(\"tr\",[r(\"th\",[r(\"strong\",[t._v(\"Action\")])]),t._v(\" \"),r(\"th\",[r(\"strong\",[t._v(\"Why?\")])]),t._v(\" \"),r(\"th\",[r(\"strong\",[t._v(\"Required permissions on the repository\")])])])]),t._v(\" \"),r(\"tbody\",[r(\"tr\",[r(\"td\",[t._v(\"Daily / weekly tests\")]),t._v(\" \"),r(\"td\",[t._v(\"To read manifest files in private repositories.\")]),t._v(\" \"),r(\"td\",[r(\"strong\",[t._v(\"Write\")]),t._v(\" or above\")])]),t._v(\" \"),r(\"tr\",[r(\"td\",[t._v(\"Snyk tests on pull requests\")]),t._v(\" \"),r(\"td\",[t._v(\"To send pull request status checks when a new PR is created, or an existing PR is updated.\")]),t._v(\" \"),r(\"td\")]),t._v(\" \"),r(\"tr\",[r(\"td\",[t._v(\"Opening fix and upgrade pull requests\")]),t._v(\" \"),r(\"td\",[t._v(\"To create fix PRs in monitored repositories.\")]),t._v(\" \"),r(\"td\")]),t._v(\" \"),r(\"tr\",[r(\"td\",[t._v(\"Snyk tests on pull requests - initial configuration\")]),t._v(\" \"),r(\"td\",[t._v(\"To add Snyk's webhooks to the imported repos, so Snyk is informed when pull requests are created or updated, and can trigger scans.\")]),t._v(\" \"),r(\"td\",[r(\"strong\",[t._v(\"Admin\")])])])])]),t._v(\" \"),r(\"h2\",{attrs:{id:\"_1st-party-integration-connect-app\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1st-party-integration-connect-app\"}},[t._v(\"#\")]),t._v(\" 1st Party Integration (Connect App)\")]),t._v(\" \"),r(\"p\",[t._v(\"The Connect App integration is a layer on top of the regular App Password integration, which allows your developers to consume Snyk from the Bitbucket interface.\")]),t._v(\" \"),r(\"blockquote\",[r(\"p\",[t._v(\"The Connect App currently supports \"),r(\"RouterLink\",{attrs:{to:\"/snyk/products/snyk-open-source/\"}},[t._v(\"Snyk Open Source\")]),t._v(\" and \"),r(\"RouterLink\",{attrs:{to:\"/snyk/products/snyk-container/\"}},[t._v(\"Snyk Container\")]),t._v(\" products only.\")],1)]),t._v(\" \"),r(\"p\",[t._v(\"By adding the Connect App to your Bitbucket workspaces, your workspaces members can import repos and see the security data in a dedicated Snyk tab in Bitbucket Cloud:\")]),t._v(\" \"),r(\"p\",[r(\"img\",{attrs:{src:o(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/mceclip1-13-.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}})]),t._v(\" \"),r(\"h2\",{attrs:{id:\"installing-the-connect-app\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#installing-the-connect-app\"}},[t._v(\"#\")]),t._v(\" Installing the Connect App\")]),t._v(\" \"),r(\"p\",[t._v(\"To install the app, navigate to the \"),r(\"strong\",[t._v(\"Security\")]),t._v(\" tab in one of your workspace's repos in Bitbucket Cloud, then click \"),r(\"strong\",[t._v(\"Try now\")]),t._v(\":\")]),t._v(\" \"),r(\"p\",[r(\"img\",{attrs:{src:o(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/mceclip2-3-.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}})]),t._v(\" \"),r(\"h2\",{attrs:{id:\"uninstalling-the-connect-app\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#uninstalling-the-connect-app\"}},[t._v(\"#\")]),t._v(\" Uninstalling the Connect App\")]),t._v(\" \"),r(\"p\",[t._v(\"To remove the Connect App from your workspace in Bitbucket Cloud:\")]),t._v(\" \"),r(\"ol\",[r(\"li\",[t._v(\"Navigate to the \"),r(\"strong\",[t._v(\"workspace settings\")]),t._v(\" page > \"),r(\"strong\",[t._v(\"Installed apps\")]),t._v(\".\")]),t._v(\" \"),r(\"li\",[t._v(\"Find \"),r(\"strong\",[t._v(\"Snyk Security for Bitbucket Cloud\")]),t._v(\" in the installed applications list.\")]),t._v(\" \"),r(\"li\",[t._v(\"Click \"),r(\"strong\",[t._v(\"remove\")]),t._v(\".\")])]),t._v(\" \"),r(\"h2\",{attrs:{id:\"associating-the-connect-app-to-a-different-snyk-account-organization\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#associating-the-connect-app-to-a-different-snyk-account-organization\"}},[t._v(\"#\")]),t._v(\" Associating the Connect App to a different Snyk account / organization\")]),t._v(\" \"),r(\"p\",[t._v(\"The Connect App is associated to a specific Snyk account and organization, as defined during the app onboarding process.\")]),t._v(\" \"),r(\"p\",[t._v(\"To change these settings later, navigate to the workspace settings and select \"),r(\"strong\",[t._v(\"Security for Bitbucket Cloud Integration Settings\")]),t._v(\":\")]),t._v(\" \"),r(\"p\",[r(\"img\",{attrs:{src:o(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/mceclip0-23-.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}})]),t._v(\" \"),r(\"h2\",{attrs:{id:\"disabling-the-bitbucket-cloud-integration\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#disabling-the-bitbucket-cloud-integration\"}},[t._v(\"#\")]),t._v(\" Disabling the Bitbucket Cloud integration\")]),t._v(\" \"),r(\"p\",[t._v(\"To disable this integration:\")]),t._v(\" \"),r(\"ol\",[r(\"li\",[t._v(\"Click on settings\"),r(\"img\",{attrs:{src:o(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/cog_icon.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"cog_icon.png\"}}),t._v(\" > \"),r(\"strong\",[t._v(\"Integrations\")]),t._v(\" in Snyk.\")]),t._v(\" \"),r(\"li\",[t._v(\"Find the specific integration to deactivate in your list of integrations, and click Edit settings.\")]),t._v(\" \"),r(\"li\",[t._v(\"A page appears showing the current status of your integration and a place to update your credentials, specific to each integration (credentials, API key, Service Principal, or connection details):\")]),t._v(\" \"),r(\"li\",[t._v(\"Click \"),r(\"strong\",[t._v(\"Disconnect\")]),t._v(\".\")])]),t._v(\" \"),r(\"p\",[r(\"img\",{attrs:{src:o(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/mceclip2-4-.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}})]),t._v(\" \"),r(\"blockquote\",[r(\"p\",[t._v(\"Your credentials are removed from Snyk and any integration-specific projects Snyk is monitoring are deactivated on Snyk.\"),r(\"br\"),t._v(\"\\nIf you then choose to re-enable this integration at any time, you will need to re-enter your credentials and activate your projects.\")])])])}),[],!1,null,null,null);e.default=i.exports}}]);","extractedComments":[]}