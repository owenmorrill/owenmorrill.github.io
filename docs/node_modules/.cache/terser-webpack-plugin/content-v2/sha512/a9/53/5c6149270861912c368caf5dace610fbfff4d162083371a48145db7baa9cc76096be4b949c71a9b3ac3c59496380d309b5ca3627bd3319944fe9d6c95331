{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{519:function(t,e,r){\"use strict\";r.r(e);var a=r(56),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"artifactory-registry-setup\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#artifactory-registry-setup\"}},[t._v(\"#\")]),t._v(\" Artifactory Registry setup\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"overview\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#overview\"}},[t._v(\"#\")]),t._v(\" \"),a(\"strong\",[t._v(\"Overview\")])]),t._v(\" \"),a(\"p\",[t._v('{% hint style=\"info\" %}\\n'),a(\"strong\",[t._v(\"Feature availability\")]),a(\"br\"),t._v(\"\\nThis feature is available with Enterprise plans. See \"),a(\"a\",{attrs:{href:\"https://snyk.io/plans/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"pricing plans\"),a(\"OutboundLink\")],1),t._v(\" for more details.\\n{% endhint %}\")]),t._v(\" \"),a(\"p\",[t._v('{% hint style=\"success\" %}\\nThe Artifactory Package Repository integration currently supports '),a(\"RouterLink\",{attrs:{to:\"/snyk/products/snyk-open-source/language-and-package-manager-support/snyk-for-java-gradle-maven.html\"}},[t._v(\"Maven\")]),t._v(\" and \"),a(\"RouterLink\",{attrs:{to:\"/snyk/products/snyk-open-source/language-and-package-manager-support/snyk-for-javascript.html\"}},[t._v(\"Node.js\")]),t._v(\" (npm and Yarn) projects.\\n{% endhint %}\")],1),t._v(\" \"),a(\"p\",[t._v(\"Connecting a custom Artifactory Package Repository enables Snyk to resolve all direct and transitive dependencies of packages hosted on the custom registry and calculate a more complete, accurate dependency graph and related vulnerabilities.\")]),t._v(\" \"),a(\"p\",[t._v(\"You can configure two types of Artifactory Package Repository:\")]),t._v(\" \"),a(\"ol\",[a(\"li\",[t._v(\"Publicly accessible instances protected by basic authentication\")]),t._v(\" \"),a(\"li\",[t._v(\"Instances on a private network accessed via a \"),a(\"RouterLink\",{attrs:{to:\"/snyk/features/integrations/snyk-broker/broker-introduction.html\"}},[t._v(\"Snyk Broker\")]),t._v(\" (with or without basic authentication)\")],1)]),t._v(\" \"),a(\"h3\",{attrs:{id:\"getting-started\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#getting-started\"}},[t._v(\"#\")]),t._v(\" Getting started\")]),t._v(\" \"),a(\"ol\",[a(\"li\",[t._v(\"Go to settings \"),a(\"img\",{attrs:{src:r(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/cog_icon.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}}),t._v(\" > \"),a(\"strong\",[t._v(\"Integrations > Package Repositories > Artifactory\")])]),t._v(\" \"),a(\"li\",[t._v(\"You should see this screen at the beginning\")])]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:r(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/screenshot_2020-04-17_at_14.38.12.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}})]),t._v(\" \"),a(\"p\",[t._v('{% hint style=\"info\" %}\\nIf you do not see the “Snyk Broker” switch you do not have the necessary permissions and can only add a publicly accessible instance.'),a(\"br\"),t._v(\" \"),a(\"a\",{attrs:{href:\"https://support.snyk.io/hc/en-us/requests/new\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Contact our Support team\"),a(\"OutboundLink\")],1),t._v(\". if you want to add a private registry.\\n{% endhint %}\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"set-up-publicly-accessible-instances\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#set-up-publicly-accessible-instances\"}},[t._v(\"#\")]),t._v(\" Set up publicly accessible instances\")]),t._v(\" \"),a(\"ol\",[a(\"li\",[t._v(\"Enter URL of your Artifactory instance, this \"),a(\"strong\",[t._v(\"must\")]),t._v(\" end with \"),a(\"strong\",[t._v(\"/artifactory\")])]),t._v(\" \"),a(\"li\",[t._v(\"Enter Username\")]),t._v(\" \"),a(\"li\",[t._v(\"Enter Password\")]),t._v(\" \"),a(\"li\",[t._v(\"Hit \"),a(\"strong\",[t._v(\"Save\")])])]),t._v(\" \"),a(\"h3\",{attrs:{id:\"set-up-brokered-instances\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#set-up-brokered-instances\"}},[t._v(\"#\")]),t._v(\" Set up brokered instances\")]),t._v(\" \"),a(\"ol\",[a(\"li\",[a(\"p\",[t._v(\"Toggle \"),a(\"strong\",[t._v(\"Artifactory (publicly accessible)\")]),t._v(\" switch, you should now see a form for generating an Artifactory Broker token\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Click on \"),a(\"strong\",[t._v(\"Generate and Save\")]),t._v(\" button\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Copy the token that was generated for you, it will be needed to set up a new Broker Client\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Pull Broker Artifactory image from Dockerhub:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"docker pull snyk/broker:artifactory\\n\")])])])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Run docker image and provide \"),a(\"RouterLink\",{attrs:{to:\"/snyk/features/integrations/private-registry-integrations/artifactory-registry-setup.html#broker-variables\"}},[t._v(\"broker variables\")])],1),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"docker run --restart=always \\\\\\n  -p 8000:8000 \\\\\\n  -e BROKER_TOKEN=secret-broker-token \\\\\\n  -e ARTIFACTORY_URL=acme.com/artifactory \\\\\\n  -e RES_BODY_URL_SUB=http://acme.com/artifactory \\\\ \\n  snyk/broker:artifactory\\n\")])])])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"Check connection status by refreshing Artifactory Integration Settings page, no connection error should be displayed\")])])]),t._v(\" \"),a(\"h4\",{attrs:{id:\"broker-variables\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#broker-variables\"}},[t._v(\"#\")]),t._v(\" Broker variables\")]),t._v(\" \"),a(\"table\",[a(\"thead\",[a(\"tr\",[a(\"th\",[t._v(\"Variable\")]),t._v(\" \"),a(\"th\",[t._v(\"Description\")])])]),t._v(\" \"),a(\"tbody\",[a(\"tr\",[a(\"td\",[a(\"code\",[t._v(\"BROKER_TOKEN\")])]),t._v(\" \"),a(\"td\",[t._v(\"The token generated in settings \"),a(\"img\",{attrs:{src:r(!function(){var t=new Error(\"Cannot find module '../../../.gitbook/assets/cog_icon.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}}),a(\"strong\",[t._v(\"> Integrations > Artifactory\")])])]),t._v(\" \"),a(\"tr\",[a(\"td\",[a(\"code\",[t._v(\"ARTIFACTORY_URL\")])]),t._v(\" \"),a(\"td\",[a(\"p\",[t._v(\"The URL to your Artifactory instance in the format:\"),a(\"br\"),a(\"code\",[t._v(\"[http://][username:password@]hostname[:port]/artifactory\")])]),a(\"p\",[a(\"strong\",[t._v(\"Optional fields\")])]),a(\"ol\",[a(\"li\",[a(\"em\",[t._v(\"Protocol\")]),t._v(\": Defaults to \"),a(\"code\",[t._v(\"https://\")]),a(\"br\"),t._v(\"This should only be specified when no certificate is present and \"),a(\"code\",[t._v(\"http://\")]),t._v(\" is required instead for your instance\")]),a(\"li\",[a(\"em\",[t._v(\"Basic auth\")]),t._v(\": Omit if no basic auth required.\"),a(\"br\"),t._v(\"URL encode both username and password info to avoid errors that may prevent authentication.\")]),a(\"li\",[a(\"em\",[t._v(\"Port\")]),t._v(\": Omit if no port number is needed\")])]),a(\"p\",[a(\"strong\",[t._v(\"Minimal example\")]),a(\"br\"),a(\"code\",[t._v(\"acme.com/artifactory\")])]),a(\"p\",[a(\"br\"),a(\"strong\",[t._v(\"Complex example\")]),a(\"br\"),a(\"code\",[t._v(\"http://alice:mypassword@acme.com:8080/artifactory\")])])])]),t._v(\" \"),a(\"tr\",[a(\"td\",[a(\"code\",[t._v(\"RES_BODY_URL_SUB\")])]),t._v(\" \"),a(\"td\",[a(\"p\",[t._v(\"The URL of the Artifactory instance, including http:// and without basic auth credentials.\"),a(\"br\"),a(\"br\"),t._v(\"Required for npm/Yarn integrations only.\")]),a(\"p\",[a(\"br\"),a(\"strong\",[t._v(\"Example\")]),a(\"br\"),a(\"code\",[t._v(\"http://acme.com/artifactory\")])])])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);","extractedComments":[]}