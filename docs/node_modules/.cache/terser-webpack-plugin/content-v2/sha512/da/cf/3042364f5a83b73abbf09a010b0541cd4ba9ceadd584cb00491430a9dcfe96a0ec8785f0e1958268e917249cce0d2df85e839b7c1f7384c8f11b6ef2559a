{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{552:function(e,t,o){\"use strict\";o.r(t);var n=o(56),r=Object(n.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[o(\"h1\",{attrs:{id:\"troubleshooting-broker\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#troubleshooting-broker\"}},[e._v(\"#\")]),e._v(\" Troubleshooting Broker\")]),e._v(\" \"),o(\"p\",[e._v('{% hint style=\"info\" %}\\nFor more comprehensive troubleshooting information, see '),o(\"a\",{attrs:{href:\"https://support.snyk.io/hc/en-us/articles/4404288846353-Broker-Troubleshooting\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Broker Troubleshooting FAQs\"),o(\"OutboundLink\")],1),e._v(\".\\n{% endhint %}\")]),e._v(\" \"),o(\"h3\",{attrs:{id:\"monitoring\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#monitoring\"}},[e._v(\"#\")]),e._v(\" Monitoring\")]),e._v(\" \"),o(\"h4\",{attrs:{id:\"healthcheck\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#healthcheck\"}},[e._v(\"#\")]),e._v(\" Healthcheck\")]),e._v(\" \"),o(\"p\",[e._v(\"The Broker exposes an endpoint at \"),o(\"code\",[e._v(\"/healthcheck\")]),e._v(\", which can be used to monitor the health of the running application. This endpoint responds with status code \"),o(\"code\",[e._v(\"200 OK\")]),e._v(\" when the internal request is successful, and returns \"),o(\"code\",[e._v(\"{ ok: true }\")]),e._v(\" in the response body.\")]),e._v(\" \"),o(\"p\",[e._v(\"In the case of the Broker client, this endpoint also reports on the status of the Broker websocket connection. If the websocket connection is not open, this endpoint responds with status code \"),o(\"code\",[e._v(\"500 Internal Server Error\")]),e._v(\" and \"),o(\"code\",[e._v(\"{ ok: false }\")]),e._v(\" in the response body.\")]),e._v(\" \"),o(\"p\",[e._v(\"Can be tested by connecting to the broker and running \"),o(\"a\",{attrs:{href:\"http://localhost:8000/healthcheck\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"http://localhost:8000/healthcheck\"),o(\"OutboundLink\")],1),e._v(\" (default settings)\")]),e._v(\" \"),o(\"p\",[o(\"strong\",[e._v(\"Systemcheck\")])]),e._v(\" \"),o(\"p\",[e._v(\"The Broker client exposes an endpoint at \"),o(\"code\",[e._v(\"/systemcheck\")]),e._v(\", which can be used to validate the brokered service (Git or the like) connectivity and credentials. This endpoint causes the Broker client to make a request to a preconfigured URL, and report on the success of the request. The supported configuration is:\")]),e._v(\" \"),o(\"ul\",[o(\"li\",[o(\"code\",[e._v(\"BROKER_CLIENT_VALIDATION_URL\")]),e._v(\" - the URL to which the request will be made.\")]),e._v(\" \"),o(\"li\",[o(\"code\",[e._v(\"BROKER_CLIENT_VALIDATION_AUTHORIZATION_HEADER\")]),e._v(\" - [optional] the \"),o(\"code\",[e._v(\"Authorization\")]),e._v(\" header value of the request. Mutually exclusive with \"),o(\"code\",[e._v(\"BROKER_CLIENT_VALIDATION_BASIC_AUTH\")]),e._v(\".\")]),e._v(\" \"),o(\"li\",[o(\"code\",[e._v(\"BROKER_CLIENT_VALIDATION_BASIC_AUTH\")]),e._v(\" - [optional] the basic auth credentials (\"),o(\"code\",[e._v(\"username:password\")]),e._v(\") to be base64 encoded and placed in the \"),o(\"code\",[e._v(\"Authorization\")]),e._v(\" header value of the request. Mutually exclusive with \"),o(\"code\",[e._v(\"BROKER_CLIENT_VALIDATION_AUTHORIZATION_HEADER\")]),e._v(\".\")]),e._v(\" \"),o(\"li\",[o(\"code\",[e._v(\"BROKER_CLIENT_VALIDATION_METHOD\")]),e._v(\" - [optional] the HTTP method of the request (default is \"),o(\"code\",[e._v(\"GET\")]),e._v(\").\")]),e._v(\" \"),o(\"li\",[o(\"code\",[e._v(\"BROKER_CLIENT_VALIDATION_TIMEOUT_MS\")]),e._v(\" - [optional] the request timeout in milliseconds (default is 5000 ms).\")])]),e._v(\" \"),o(\"p\",[e._v(\"This endpoint responds with status code \"),o(\"code\",[e._v(\"200 OK\")]),e._v(\" when the internal request is successful, and returns \"),o(\"code\",[e._v(\"{ ok: true }\")]),e._v(\" in the response body. If the internal request fails, this endpoint responds with status code \"),o(\"code\",[e._v(\"500 Internal Server Error\")]),e._v(\" and \"),o(\"code\",[e._v(\"{ ok: false }\")]),e._v(\" in the response body.\")]),e._v(\" \"),o(\"p\",[e._v(\"Can be tested by connecting to the broker and running \"),o(\"a\",{attrs:{href:\"http://localhost:8000/systemcheck\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"http://localhost:8000/systemcheck\"),o(\"OutboundLink\")],1),e._v(\" (default settings).\")])])}),[],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}