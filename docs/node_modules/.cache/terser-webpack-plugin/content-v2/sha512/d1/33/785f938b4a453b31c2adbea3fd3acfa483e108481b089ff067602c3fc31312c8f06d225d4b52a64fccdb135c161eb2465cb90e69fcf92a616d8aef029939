{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{474:function(e,t,r){\"use strict\";r.r(t);var s=r(56),i=Object(s.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[r(\"h1\",{attrs:{id:\"github-enterprise-integration\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#github-enterprise-integration\"}},[e._v(\"#\")]),e._v(\" GitHub Enterprise integration\")]),e._v(\" \"),r(\"p\",[e._v('{% hint style=\"info\" %}\\nSelf-managed source code, like GitHub Enterprise, is available with our Enterprise plan, '),r(\"a\",{attrs:{href:\"https://snyk.io/plans\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"our plans and pricing page\"),r(\"OutboundLink\")],1),e._v(\" for more info.\\n{% endhint %}\")]),e._v(\" \"),r(\"p\",[e._v(\"Snyk's GitHub Enterprise integration allows you to:\")]),e._v(\" \"),r(\"ul\",[r(\"li\",[e._v(\"Continuously perform security scanning across all the integrated repositories.\")]),e._v(\" \"),r(\"li\",[e._v(\"Detect vulnerabilities in your open source components.\")]),e._v(\" \"),r(\"li\",[e._v(\"Provide automated fixes and upgrades.\")])]),e._v(\" \"),r(\"h2\",{attrs:{id:\"setting-up-a-github-enterprise-integration\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#setting-up-a-github-enterprise-integration\"}},[e._v(\"#\")]),e._v(\" Setting up a GitHub Enterprise Integration\")]),e._v(\" \"),r(\"ol\",[r(\"li\",[e._v(\"Create a dedicated service account in GitHub Enterprise, with \"),r(\"em\",[r(\"strong\",[e._v(\"write\")])]),e._v(\" level or above permissions, to the repos you want to monitor with Snyk permissions. See \"),r(\"RouterLink\",{attrs:{to:\"/snyk/features/integrations/git-repository-scm-integrations/github-enterprise-integration.html#required-permissions-scope-for-the-github-integration\"}},[e._v(\"Required permissions scope for the GitHub integration\")]),e._v(\" for details.\")],1),e._v(\" \"),r(\"li\",[e._v(\"Generate a personal access token for that account, with \"),r(\"strong\",[e._v(\"repo (all)\")]),e._v(\", \"),r(\"strong\",[e._v(\"admin:read:org\")]),e._v(\", and \"),r(\"strong\",[e._v(\"admin:repo_hooks (read & write)\")]),e._v(\" permissions scope. See \"),r(\"a\",{attrs:{href:\"https://docs.github.com/en/enterprise-server@2.22/github/authenticating-to-github/creating-a-personal-access-token\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"GitHub Enterprise documentation \"),r(\"OutboundLink\")],1),e._v(\"for details.\")]),e._v(\" \"),r(\"li\",[r(\"strong\",[e._v(\"Authorize\")]),e._v(\" your personal access token and Enable SSO:\")]),e._v(\" \"),r(\"li\",[e._v(\"Go to the \"),r(\"strong\",[e._v(\"Integrations\")]),e._v(\" page in Snyk and click on \"),r(\"strong\",[e._v(\"GitHub Enterprise\")]),e._v(\":\")]),e._v(\" \"),r(\"li\",[e._v(\"Enter your Github Enterprise URL, and the personal access token for the service account you created: \"),r(\"strong\",[e._v(\"Note\")]),e._v(\": You can use this integration to integrate to your GitHub Enterprise Cloud, by providing the following URL \"),r(\"a\",{attrs:{href:\"https://api.github.com\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"https://api.github.com\"),r(\"OutboundLink\")],1)]),e._v(\" \"),r(\"li\",[e._v(\"Click \"),r(\"strong\",[e._v(\"Save\")]),e._v(\". Snyk connects to your GitHub Enterprise instance. When the connection succeeds, the following indications appear:\")]),e._v(\" \"),r(\"li\",[e._v(\"Select the repos to import to Snyk, then click \"),r(\"strong\",[e._v(\"Add selected repositories\")]),e._v(\".\")]),e._v(\" \"),r(\"li\",[e._v(\"Snyk starts scanning the selected repos for dependency files (such as package.json) in the entire directory tree and imports them to Snyk as projects:\")]),e._v(\" \"),r(\"li\",[e._v(\"The imported projects appear on your \"),r(\"strong\",[e._v(\"Projects\")]),e._v(\" page and are continuously checked for vulnerabilities.\")])]),e._v(\" \"),r(\"p\",[e._v(\"![](<../../../.gitbook/assets/which_repos (3) (5) (9) (7) (18) (1) (1) (1) (1) (1) (1) (1) (1) (1) (10) (27).jpg>)\")]),e._v(\" \"),r(\"h2\",{attrs:{id:\"github-enterprise-broker-startup-script\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#github-enterprise-broker-startup-script\"}},[e._v(\"#\")]),e._v(\" GitHub Enterprise Broker startup script\")]),e._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[e._v(\"docker run --restart=always \\\\\\n           -p 8000:8000 \\\\\\n           -e BROKER_TOKEN=secret-broker-token \\\\\\n           -e GITHUB_TOKEN=secret-github-token \\\\\\n           -e GITHUB=your.ghe.domain.com \\\\\\n           -e GITHUB_API=your.ghe.domain.com/api/v3 \\\\\\n           -e GITHUB_GRAPHQL=your.ghe.domain.com/api \\\\\\n           -e PORT=8000 \\\\\\n           -e BROKER_CLIENT_URL=http://my.broker.client:8000 \\\\\\n       snyk/broker:github-enterprise\\n\")])])]),r(\"h2\",{attrs:{id:\"github-enterprise-integration-features\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#github-enterprise-integration-features\"}},[e._v(\"#\")]),e._v(\" GitHub Enterprise Integration Features\")]),e._v(\" \"),r(\"p\",[e._v(\"After the integration is set up, you can use the following capabilities:\")]),e._v(\" \"),r(\"p\",[r(\"strong\",[e._v(\"Project-level security reports\")])]),e._v(\" \"),r(\"p\",[e._v(\"Snyk produces advanced security reports, allowing you to explore the vulnerabilities found in your repositories and fix them by opening a fix pull request directly to your repository, with the required upgrades or patches.\")]),e._v(\" \"),r(\"p\",[e._v(\"This is an example of a project-level security report:\")]),e._v(\" \"),r(\"p\",[e._v(\"![](<../../../.gitbook/assets/mceclip0-22- (2) (5) (6) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (10) (28).png>)\")]),e._v(\" \"),r(\"p\",[r(\"strong\",[e._v(\"Project monitoring and automatic fix pull requests\")])]),e._v(\" \"),r(\"p\",[e._v(\"Snyk frequently scans your projects on either a daily or a weekly basis. When new vulnerabilities are found, it notifies you by email and by opening an automated pull request with fixes to repositories.\")]),e._v(\" \"),r(\"p\",[e._v(\"This is an example of a fix pull request opened by Snyk:\")]),e._v(\" \"),r(\"p\",[r(\"img\",{attrs:{src:\"https://raw.githubusercontent.com/snyk/user-docs/main/docs/../.gitbook/assets/uuid-6cfdaf0b-c349-468d-fe65-4f80bad110ea-en.png\",alt:\"\"}})]),e._v(\" \"),r(\"p\",[e._v(\"To review and adjust the automatic fix pull request settings:\")]),e._v(\" \"),r(\"p\",[e._v(\"Click on settings\"),r(\"img\",{attrs:{src:\"https://raw.githubusercontent.com/snyk/user-docs/main/docs/../.gitbook/assets/cog_icon.png\",alt:\"cog_icon.png\"}}),e._v(\" > \"),r(\"strong\",[e._v(\"Integrations\")]),e._v(\". 2. Select \"),r(\"strong\",[e._v(\"Edit Settings\")]),e._v(\" for GitHub Enterprise. 3. Navigate to \"),r(\"strong\",[e._v(\"Automatic fix pull requests\")]),e._v(\":\")]),e._v(\" \"),r(\"p\",[e._v(\"![](<../../../.gitbook/assets/mceclip4 (1) (2) (6) (7) (3) (1) (1) (1) (1) (1) (1) (1) (1) (1) (10) (31).png>)\")]),e._v(\" \"),r(\"p\",[r(\"strong\",[e._v(\"Pull request testing\")])]),e._v(\" \"),r(\"p\",[e._v(\"Snyk tests any newly created pull requests in your repositories for security vulnerabilities and sends a status check to GitHub Enterprise. This allows you to see whether the pull request introduces new security issues, directly from GitHub Enterprise.\")]),e._v(\" \"),r(\"p\",[e._v(\"This is how Snyk pull request checks appear in the Pull Request page in GitHub Enterprise:\")]),e._v(\" \"),r(\"p\",[e._v(\"![](<../../../.gitbook/assets/uuid-87113833-be79-dbe2-8860-a3f224d654c4-en (2) (2) (6) (5) (1) (1) (1) (1) (1) (1) (1) (1) (1) (10) (22).png>)\")]),e._v(\" \"),r(\"p\",[e._v(\"To review and adjust the pull request tests settings:\")]),e._v(\" \"),r(\"ol\",[r(\"li\",[e._v(\"Click on settings\"),r(\"img\",{attrs:{src:\"https://raw.githubusercontent.com/snyk/user-docs/main/docs/../.gitbook/assets/cog_icon.png\",alt:\"cog_icon.png\"}}),e._v(\" > \"),r(\"strong\",[e._v(\"Integrations\")]),e._v(\".\")]),e._v(\" \"),r(\"li\",[e._v(\"Select \"),r(\"strong\",[e._v(\"Edit Settings\")]),e._v(\" for GitHub Enterprise.\")]),e._v(\" \"),r(\"li\",[e._v(\"Navigate to \"),r(\"strong\",[e._v(\"Default Snyk test for pull requests\")]),e._v(\":\")])]),e._v(\" \"),r(\"p\",[e._v(\"![](<../../../.gitbook/assets/mceclip5 (1).png>)\")]),e._v(\" \"),r(\"h2\",{attrs:{id:\"required-permissions-scope-for-the-github-integration\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#required-permissions-scope-for-the-github-integration\"}},[e._v(\"#\")]),e._v(\" Required permissions scope for the GitHub integration\")]),e._v(\" \"),r(\"p\",[e._v(\"All the operations, triggered manually or automatically, are performed for a GitHub service account that has its token is configured in the integrations settings. This shows the required access scopes for the configured token:\")]),e._v(\" \"),r(\"table\",[r(\"thead\",[r(\"tr\",[r(\"th\",[r(\"strong\",[e._v(\"Action\")])]),e._v(\" \"),r(\"th\",[r(\"strong\",[e._v(\"Why?\")])]),e._v(\" \"),r(\"th\",[r(\"strong\",[e._v(\"Required permissions in GitHub\")])])])]),e._v(\" \"),r(\"tbody\",[r(\"tr\",[r(\"td\",[e._v(\"Daily / weekly tests\")]),e._v(\" \"),r(\"td\",[e._v(\"For reading manifest files in private repos\")]),e._v(\" \"),r(\"td\",[r(\"em\",[e._v(\"repo (all)\")])])]),e._v(\" \"),r(\"tr\",[r(\"td\",[e._v(\"Manual fix pull requests (triggered by the user)\")]),e._v(\" \"),r(\"td\",[e._v(\"For creating fix PRs in the monitored repos\")]),e._v(\" \"),r(\"td\",[r(\"em\",[e._v(\"repo (all)\")])])]),e._v(\" \"),r(\"tr\",[r(\"td\",[e._v(\"Automatic fix and upgrade pull requests\")]),e._v(\" \"),r(\"td\",[e._v(\"For creating fix/upgrade PRs in the monitored repos\")]),e._v(\" \"),r(\"td\",[r(\"em\",[e._v(\"repo (all)\")])])]),e._v(\" \"),r(\"tr\",[r(\"td\",[e._v(\"Snyk tests on pull requests\")]),e._v(\" \"),r(\"td\",[e._v(\"For sending pull request status checks whenever a new PR is created / an existing PR is updated\")]),e._v(\" \"),r(\"td\",[r(\"em\",[e._v(\"repo (all)\")])])]),e._v(\" \"),r(\"tr\",[r(\"td\",[e._v(\"Importing new projects to Snyk\")]),e._v(\" \"),r(\"td\",[e._v('For presenting a list of all the available repos in the GitHub org in the \"Add Projects\" screen (import popup)')]),e._v(\" \"),r(\"td\",[r(\"em\",[e._v(\"admin:read:org, repo (all)\")])])]),e._v(\" \"),r(\"tr\",[r(\"td\",[e._v(\"Snyk tests on pull requests - initial configuration\")]),e._v(\" \"),r(\"td\",[e._v(\"For adding Snyk's webhooks to the imported repos, so Snyk will be informed whenever pull requests are created or updated and be able to trigger scans\")]),e._v(\" \"),r(\"td\",[r(\"em\",[e._v(\"admin:repo_hooks (read & write)\")])])])])]),e._v(\" \"),r(\"p\",[r(\"strong\",[e._v(\"Required permissions scope for repositories\")])]),e._v(\" \"),r(\"p\",[e._v(\"For Snyk to perform the required operation on monitor repositories, such as reading manifest files on a frequent basis, the accounts connected to Snyk (either directly or using Snyk Broker) need the following access on the repositories:\")]),e._v(\" \"),r(\"table\",[r(\"thead\",[r(\"tr\",[r(\"th\",[r(\"strong\",[e._v(\"Action\")])]),e._v(\" \"),r(\"th\",[r(\"strong\",[e._v(\"Why?\")])]),e._v(\" \"),r(\"th\",[r(\"strong\",[e._v(\"Required permissions on the repository\")])])])]),e._v(\" \"),r(\"tbody\",[r(\"tr\",[r(\"td\",[e._v(\"Daily / weekly tests\")]),e._v(\" \"),r(\"td\",[e._v(\"For reading manifest files in private repos\")]),e._v(\" \"),r(\"td\",[r(\"em\",[e._v(\"Write\")]),e._v(\" or above\")])]),e._v(\" \"),r(\"tr\",[r(\"td\",[e._v(\"Snyk tests on pull requests\")]),e._v(\" \"),r(\"td\",[e._v(\"For sending pull request status checks whenever a new PR is created / an existing PR is updated\")]),e._v(\" \"),r(\"td\",[r(\"em\",[e._v(\"Write\")]),e._v(\" or above\")])]),e._v(\" \"),r(\"tr\",[r(\"td\",[e._v(\"Opening fix and upgrade pull requests\")]),e._v(\" \"),r(\"td\",[e._v(\"For creating fix/upgrade PRs in the monitored repos\")]),e._v(\" \"),r(\"td\",[r(\"em\",[e._v(\"Write\")]),e._v(\" or above\")])]),e._v(\" \"),r(\"tr\",[r(\"td\",[e._v(\"Snyk tests on pull requests - initial configuration\")]),e._v(\" \"),r(\"td\",[e._v(\"For adding Snyk's webhooks to the imported repos, so Snyk will be informed whenever pull requests are created or updated and be able to trigger scans\")]),e._v(\" \"),r(\"td\",[r(\"em\",[e._v(\"Admin\")])])])])])])}),[],!1,null,null,null);t.default=i.exports}}]);","extractedComments":[]}