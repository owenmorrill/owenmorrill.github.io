{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{568:function(e,t,r){\"use strict\";r.r(t);var o=r(56),a=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[r(\"h1\",{attrs:{id:\"bitbucket-server-examples\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#bitbucket-server-examples\"}},[e._v(\"#\")]),e._v(\" Bitbucket Server - Examples\")]),e._v(\" \"),r(\"p\",[e._v(\"Available options:\")]),e._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[e._v('  --version                 Show version number                        [boolean]\\n  --help                    Show help                                  [boolean]\\n  --token                   Bitbucket server token                     [required]\\n  --url                     Bitbucket server base url e.g. (https://bitbucket.mycompany.com)         [required]\\n  --projectKeys             [Optional] Bitbucket server project key to count contributors for\\n  --repo                    [Optional] Specific repo to count only for\\n  --exclusionFilePath       [Optional] Exclusion list filepath\\n  --json                    [Optional] JSON output, requiered when using the \"consolidateResults\" command\\n  --skipSnykMonitoredRepos  [Optional] Skip Snyk monitored repos and count contributors for all repos\\n  --importConfDir           [Optional] Generate an import file with the unmonitored repos: A path to a valid folder for the generated import files\\n  --importFileRepoType      [Optional] To be used with the importConfDir flag: Specify the type of repos to be added to the import file. Options: all/private/public. Default: all\\n')])])]),r(\"h3\",{attrs:{id:\"before-running-the-command\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#before-running-the-command\"}},[e._v(\"#\")]),e._v(\" Before running the command:\")]),e._v(\" \"),r(\"ol\",[r(\"li\",[e._v(\"Export SNYK_TOKEN (if you want to get the contributors ONLY for repos that are already monitored by Snyk):\\n\"),r(\"ul\",[r(\"li\",[r(\"p\",[e._v(\"Make sure that your token has Group level access or use a service account's token that has Group level acces, to learn more on how to create a service account, refer to this \"),r(\"a\",{attrs:{href:\"https://docs.snyk.io/features/integrations/managing-integrations/service-accounts#how-to-set-up-a-service-account\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"guide\"),r(\"OutboundLink\")],1)])]),e._v(\" \"),r(\"li\",[r(\"p\",[e._v(\"Copy the token value\")])]),e._v(\" \"),r(\"li\",[r(\"p\",[e._v(\"Export the token in your environment:\")]),e._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[e._v(\"export SNYK_TOKEN=<YOUR-SNYK-TOKEN>\\n\")])])])])])]),e._v(\" \"),r(\"li\",[e._v(\"Get your Bitbucket-Server token and URL:\\n\"),r(\"ul\",[r(\"li\",[r(\"p\",[e._v(\"Create a Token if not already exists using this \"),r(\"a\",{attrs:{href:\"https://www.jetbrains.com/help/youtrack/standalone/integration-with-bitbucket-server.html#enable-youtrack-integration-bbserver\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"guide\"),r(\"OutboundLink\")],1)]),e._v(\" \"),r(\"p\",[r(\"strong\",[e._v(\"Note\")]),e._v(\": Make sure your token has read access to the repos.\")])]),e._v(\" \"),r(\"li\",[r(\"p\",[e._v(\"The URL is the actual URL of your Bitbucket-Server instance, for example: http://bitbucket-server.mycompany.com\")])])])])]),e._v(\" \"),r(\"h2\",{attrs:{id:\"running-the-command\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#running-the-command\"}},[e._v(\"#\")]),e._v(\" Running the command\")]),e._v(\" \"),r(\"p\",[e._v(\"Consider the following levels of usage and options:\")]),e._v(\" \"),r(\"h3\",{attrs:{id:\"usage-levels\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#usage-levels\"}},[e._v(\"#\")]),e._v(\" Usage levels:\")]),e._v(\" \"),r(\"ul\",[r(\"li\",[r(\"p\",[e._v(\"To get commits for all projects and their repos in Bitbucket-Server: provide the Bitbucket-Server token and url:\")]),e._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[e._v(\"snyk-scm-contributors-count bitbucket-server --token BITBUCKET-TOKEN --url BITBUCKET-URL\\n\")])])])]),e._v(\" \"),r(\"li\",[r(\"p\",[e._v(\"To get commits for some projects and their repos in Bitbucket-Server: Provide the Bitbucket-Server token, Bitbucket-Server url and the projects, separated by a comma:\")]),e._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[e._v(\"snyk-scm-contributors-count bitbucket-server --token BITBUCKET-TOKEN --url BITBUCKET-URL --projectKeys Key1,Key2...\\n\")])])])]),e._v(\" \"),r(\"li\",[r(\"p\",[e._v(\"I want to get commits for a specific repo in Bitbucket-Server: Provide your Bitbucket-Server token, Bitbucket-Server url, a project and a repo name:\")]),e._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[e._v(\"snyk-scm-contributors-count bitbucket-server --token BITBUCKET-TOKEN --url BITBUCKET-URL --projectKeys Key1 --repo Repo1\\n\")])])])])]),e._v(\" \"),r(\"h3\",{attrs:{id:\"options\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#options\"}},[e._v(\"#\")]),e._v(\" Options:\")]),e._v(\" \"),r(\"ul\",[r(\"li\",[r(\"p\",[e._v(\"To get all the commits from Bitbucket-Server regardless of the repos that are already monitored by Snyk (You might have repos in Bitbucket-Server that are not monitored in Snyk, using this flag will skip checking for Snyk monitored repos and will go directly to Bitbucket-Server to fetch the commits): add the \"),r(\"code\",[e._v(\"--skipSnykMonitoredRepos\")]),e._v(\" flag:\")]),e._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[e._v(\"snyk-scm-contributors-count bitbucket-server --token BITBUCKET-TOKEN --url BITBUCKET-URL --skipSnykMonitoredRepos\\n\")])])])]),e._v(\" \"),r(\"li\",[r(\"p\",[e._v(\"To exclude some contributors from being counted in the commits => add an exclusion file with the emails to ignore(separated by commas) and apply the \"),r(\"code\",[e._v(\"--exclusionFilePath\")]),e._v(\" with the path to that file:\")]),e._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[e._v(\"snyk-scm-contributors-count bitbucket-server --token BITBUCKET-TOKEN --url BITBUCKET-URL --projectKeys Key1,Key2 --exclusionFilePath PATH_TO_FILE\\n\")])])])]),e._v(\" \"),r(\"li\",[r(\"p\",[e._v(\"To set the output to json format: add the \"),r(\"code\",[e._v(\"--json\")]),e._v(\" flag:\")]),e._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[e._v(\"snyk-scm-contributors-count bitbucket-server --token BITBUCKET-TOKEN --url BITBUCKET-URL --projectKeys Key1 --repo Repo1 --json\\n\")])])])]),e._v(\" \"),r(\"li\",[r(\"p\",[e._v(\"To create an import file for me with my unmonitored repos: add the \"),r(\"code\",[e._v(\"--importConfDir\")]),e._v(\" flag with a valid (writable) path to a folder in which the import files will be stored and add the \"),r(\"code\",[e._v(\"--importFileRepoType\")]),e._v(\" flag (optional) with the repo types to add to the file (all/private/public, defaults to all). (\"),r(\"strong\",[e._v(\"Note that these flags can not be set with the \"),r(\"code\",[e._v(\"--repo\")]),e._v(\" flag\")]),e._v(\"):\")]),e._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[e._v(\"snyk-scm-contributors-count bitbucket-server --token BITBUCKET-TOKEN --url BITBUCKET-URL --importConfDir ValidPathToFolder --importFileRepoType private/public/all\\n\")])])]),r(\"p\",[e._v(\"For more details about these flag, refer to this \"),r(\"a\",{attrs:{href:\"https://raw.githubusercontent.com/snyk/user-docs/main/docs/creating-and-using-the-import-files.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"page\"),r(\"OutboundLink\")],1)])]),e._v(\" \"),r(\"li\",[r(\"p\",[e._v(\"To run in debug mode for verbose output => add \"),r(\"code\",[e._v(\"DEBUG=snyk*\")]),e._v(\" to the beginning of the command:\")]),e._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[e._v(\"DEBUG=snyk* snyk-scm-contributors-count bitbucket-server --token BITBUCKET-TOKEN --url BITBUCKET-URL --projectKeys Key1 --repo Repo1 --exclusionFilePath PATH_TO_FILE --skipSnykMonitoredRepos --json\\n\")])])])])])])}),[],!1,null,null,null);t.default=a.exports}}]);","extractedComments":[]}