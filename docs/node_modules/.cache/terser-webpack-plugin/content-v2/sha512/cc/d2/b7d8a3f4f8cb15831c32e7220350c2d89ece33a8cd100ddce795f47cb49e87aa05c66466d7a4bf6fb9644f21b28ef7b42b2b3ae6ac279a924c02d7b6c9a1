{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[661],{1059:function(e,n,a){\"use strict\";a.r(n);var t=a(56),s=Object(t.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[t(\"h1\",{attrs:{id:\"scan-all-unmanaged-jar-files\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#scan-all-unmanaged-jar-files\"}},[e._v(\"#\")]),e._v(\" Scan all unmanaged JAR files\")]),e._v(\" \"),t(\"p\",[e._v(\"The Snyk CLI can scan unmanaged JAR files in \"),t(\"RouterLink\",{attrs:{to:\"/snyk/products/snyk-open-source/language-and-package-manager-support/snyk-for-java-gradle-maven.html\"}},[e._v(\"Java applications\")]),e._v(\". The CLI identifies the package name, version, and vulnerabilities only if the local JAR file hash matches the Maven Central JAR file hash.\")],1),e._v(\" \"),t(\"p\",[e._v(\"Java apps typically have JAR files in a number of locations within an application. To avoid problems from scanning multiple JAR files in the same folder, scan individual JAR files, especially for old Java apps that use Ant.\")]),e._v(\" \"),t(\"p\",[t(\"strong\",[e._v(\"WAR file support\")]),e._v(\": You can scan individual WAR files that are published in Maven Central. To scan open-source dependency JARs directly, you must extract (unzip) all other WAR files or JAR files containing other JARs.\")]),e._v(\" \"),t(\"p\",[t(\"strong\",[e._v(\"Prerequisite:\")]),e._v(\" Scanning individual files requires \"),t(\"strong\",[e._v(\"Maven 3.1.0\")]),e._v(\" or newer to be installed alongside the Snyk CLI, which requires \"),t(\"strong\",[e._v(\"maven-dependency-plugin 2.2\")]),e._v(\" or higher.\")]),e._v(\" \"),t(\"p\",[e._v(\"To view the versions of Maven and the maven-dependency-plugin run \"),t(\"code\",[e._v(\"mvn -v\")]),e._v(\".\")]),e._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:a(!function(){var e=new Error(\"Cannot find module '../../.gitbook/assets/untitled__1_.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),alt:\"Screenshot of output from mvn -v\"}})]),e._v(\" \"),t(\"p\",[e._v(\"Use the \"),t(\"code\",[e._v(\"snyk test --scan-all-unmanaged\")]),e._v(\" command to scan all JAR files in a single folder to match any dependencies hosted on Maven central. Scanning all unmanaged files may lead to dependency conflicts if an application was not built using a package manager like Gradle or Maven. This is especially true for applications built using Ant.\")]),e._v(\" \"),t(\"p\",[e._v(\"Therefore test each JAR file individually using \"),t(\"code\",[e._v(\"snyk test --scan-unmanaged â€”file=/path/to/file\")]),e._v(\". Testing each JAR file individually also has the benefit of showing the name of the JAR file that was scanned on the Snyk web UI; running a scan using --\"),t(\"code\",[e._v(\"scan-all-unmanaged\")]),e._v(\" does not show the file. A simple wrapper is required in order to find and test JAR files in all sub-folders of an application. Results can then be grouped in the Snyk UI by using the --\"),t(\"code\",[e._v(\"remote-repo-url=AppName\")]),e._v(\" option for \"),t(\"code\",[e._v(\"snyk test\")]),e._v(\".\")]),e._v(\" \"),t(\"p\",[e._v(\"The following is a Linux/Mac BASH script that iterates through all subfolders starting with the current folder and tests each individual JAR file. The \"),t(\"strong\",[e._v(\"PROJECT_NAME_HERE\")]),e._v(\" in --\"),t(\"strong\",[e._v(\"remote-repo-url\")]),e._v(\" is important; it combines multiple scan results under a single Snyk project in the UI.\")]),e._v(\" \"),t(\"p\",[t(\"code\",[e._v(\"find . -type f -name '*.jar' | uniq | xargs -I {} snyk monitor --file={} --scan-unmanaged --remote-repo-url=PROJECT_NAME_HERE\")])]),e._v(\" \"),t(\"p\",[e._v(\"The following is a Windows batch script, run from a \"),t(\"strong\",[e._v(\"scanjar.bat\")]),e._v(\" file.\")]),e._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[e._v('REM Usage:    \\nREM For example: scanjar.bat \"C:\\\\workspace\\\\app\" \"myapp\" \\nSET workspace=%1 \\nSET appname=%2 \\nfor /R %workspace% %%f in (*.jar) do cmd /c snyk monitor --scan-unmanaged --remote-repo-url=%appname% --file=%%f\\n')])])]),t(\"p\",[e._v(\"The following shows the end result in the Snyk UI for an app with the --\"),t(\"strong\",[e._v(\"remote-repo-url=econnect\")])]),e._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:a(!function(){var e=new Error(\"Cannot find module '../../.gitbook/assets/untitled.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),alt:\"Result of scanning unmanaged JAR files\"}})])])}),[],!1,null,null,null);n.default=s.exports}}]);","extractedComments":[]}