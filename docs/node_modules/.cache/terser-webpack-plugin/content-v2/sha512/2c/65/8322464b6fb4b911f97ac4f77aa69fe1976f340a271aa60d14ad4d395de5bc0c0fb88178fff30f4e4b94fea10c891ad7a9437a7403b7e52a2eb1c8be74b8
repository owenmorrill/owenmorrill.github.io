{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[721],{1120:function(e,t,s){\"use strict\";s.r(t);var a=s(56),o=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"build-push-to-repo\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#build-push-to-repo\"}},[e._v(\"#\")]),e._v(\" Build & push to repo\")]),e._v(\" \"),s(\"h2\",{attrs:{id:\"build-push-to-aws-codecommit\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#build-push-to-aws-codecommit\"}},[e._v(\"#\")]),e._v(\" Build & Push to AWS CodeCommit\")]),e._v(\" \"),s(\"p\",[e._v(\"We should now be ready to push our application to the AWS CodeCommit repo and the Amazon Elastic Container Repository\")]),e._v(\" \"),s(\"p\",[e._v(\"The following sets a new origin for the application repo to CodeCommit unicorn-store, configures a credential helper needed for CodeCommit, and pushes the source code to the repo. This step is necessary for an automated pipeline as CodeBuild will build the application directly from this repo.\")]),e._v(\" \"),s(\"div\",{staticClass:\"language-bash extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[e._v(\"cd\")]),e._v(\" ~/environment/modernization-workshop/\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"git\")]),e._v(\" remote set-url origin https://git-codecommit.us-west-2.amazonaws.com/v1/repos/modernization-workshop\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"git\")]),e._v(\" config --global credential.helper \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[e._v(\"'!aws codecommit credential-helper $@'\")]),e._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"git\")]),e._v(\" config --global credential.UseHttpPath \"),s(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[e._v(\"true\")]),e._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"git\")]),e._v(\" push origin master\\n\")])])]),s(\"p\",[e._v('{% hint style=\"info\" %}\\nIf successfully, you should see a similar message to the one below.\\n{% endhint %}')]),e._v(\" \"),s(\"div\",{staticClass:\"language-text extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[e._v(\"Counting objects: 9525, done.\\nCompressing objects: 100% (5900/5900), done.\\nWriting objects: 100% (9525/9525), 33.75 MiB | 2.65 MiB/s, done.\\nTotal 9525 (delta 3240), reused 9525 (delta 3240)\\nremote: processing \\nTo https://git-codecommit.us-west-2.amazonaws.com/v1/repos/modernization-workshop\\n * [new branch]      master -> master\\n\")])])]),s(\"h2\",{attrs:{id:\"push-to-amazon-elastic-container-repository-ecr\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#push-to-amazon-elastic-container-repository-ecr\"}},[e._v(\"#\")]),e._v(\" Push to Amazon Elastic Container Repository (ECR)\")]),e._v(\" \"),s(\"p\",[e._v(\"Now it's time to compile and package your code. Copy and paste the below code into Cloud9's terminal window\")]),e._v(\" \"),s(\"div\",{staticClass:\"language-bash extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[e._v(\"cd\")]),e._v(\" ~/environment/modernization-workshop/app\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"docker\")]),e._v(\" build -t modernization-workshop \"),s(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[e._v(\".\")]),e._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"docker\")]),e._v(\" tag modernization-workshop:latest \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e._v(\"$(\")]),e._v(\"aws ecr describe-repositories --repository-name modernization-workshop --query\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),e._v(\"repositories\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"]\")]),e._v(\".repositoryUri --output\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),e._v(\"text\"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e._v(\")\")])]),e._v(\":latest\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[e._v(\"eval\")]),e._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e._v(\"$(\")]),e._v(\"aws ecr get-login --no-include-email\"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e._v(\")\")])]),e._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"docker\")]),e._v(\" push \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e._v(\"$(\")]),e._v(\"aws ecr describe-repositories --repository-name modernization-workshop --query\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),e._v(\"repositories\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"]\")]),e._v(\".repositoryUri --output\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),e._v(\"text\"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e._v(\")\")])]),e._v(\":latest\\n\")])])]),s(\"p\",[e._v(\"If you watch the screen you should see the docker image build process animating the terminal.\")]),e._v(\" \"),s(\"p\",[e._v('{% hint style=\"info\" %}\\nIf successfully, you should see the message as below.\\n{% endhint %}')]),e._v(\" \"),s(\"div\",{staticClass:\"language-text extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[e._v(\"The push refers to repository [1234567891011.dkr.ecr.us-west-2.amazonaws.com/modernization-workshop]\\n8d2f7b95f78d: Pushed \\n82852e5eaa9d: Pushed \\n9df07df94e41: Pushed \\naa90bcce39de: Pushed \\nd9ff549177a9: Pushed \\nlatest: digest: sha256:4229b5fe142f6d321ef2ce16ff22070e410272ee140e7eec51540a823dcd315a size: 1369\\n\")])])])])}),[],!1,null,null,null);t.default=o.exports}}]);","extractedComments":[]}