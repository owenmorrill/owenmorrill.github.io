{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[563],{958:function(e,t,n){\"use strict\";n.r(t);var a=n(56),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[n(\"h1\",{attrs:{id:\"bundling-rules\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#bundling-rules\"}},[e._v(\"#\")]),e._v(\" Bundling rules\")]),e._v(\" \"),n(\"p\",[e._v(\"Once you are ready, you can build a custom rules bundle by running the following command:\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"snyk-iac-rules build\\n\")])])]),n(\"p\",[e._v(\"If you have more than your generated rules in the current folder consider using the  \"),n(\"code\",[e._v(\"--ignore\")]),e._v(\" flag to exclude the folders and files irrelevant for a production-ready bundle. This can both speed up the process and ensures the size of the generated bundle stays small.\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"overriding-the-default-entry-point\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#overriding-the-default-entry-point\"}},[e._v(\"#\")]),e._v(\" Overriding the default entry point\")]),e._v(\" \"),n(\"p\",[e._v(\"If you have chosen to name the rule that evaluates something different than \"),n(\"strong\",[n(\"code\",[e._v(\"deny\")])]),e._v(\" (e.g. \"),n(\"code\",[e._v(\"allow\")]),e._v(\",\"),n(\"code\",[e._v(\"violation\")]),e._v(\", etc. ), you can override it by running:\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('snyk-iac-rules build --entrypoint \"<package name>/<function name>\"\\n')])])]),n(\"p\",[e._v(\"Finally, you can check the contents of the bundle without extracting it by running:\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"tar -tf bundle.tar.gz\\n\")])])]),n(\"p\",[e._v(\"That will output all the files included in the bundle:\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"/data.json\\n/lib/main.rego\\n/rules/my_rule/main.rego\\n/policy.wasm\\n/.manifest\\n\")])])]),n(\"p\",[e._v(\" You can now \"),n(\"a\",{attrs:{href:\"https://raw.githubusercontent.com/snyk/user-docs/main/docs/use-IaC-custom-rules-with-CLI/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"run snyk iac test with your newly built custom bundle. \"),n(\"OutboundLink\")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}