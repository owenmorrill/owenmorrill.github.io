{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{518:function(t,e,r){\"use strict\";r.r(e);var a=r(56),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[r(\"h1\",{attrs:{id:\"artifactory-registry-setup\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#artifactory-registry-setup\"}},[t._v(\"#\")]),t._v(\" Artifactory Registry setup\")]),t._v(\" \"),r(\"h3\",{attrs:{id:\"overview\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#overview\"}},[t._v(\"#\")]),t._v(\" \"),r(\"strong\",[t._v(\"Overview\")])]),t._v(\" \"),r(\"p\",[t._v('{% hint style=\"info\" %}\\n'),r(\"strong\",[t._v(\"Feature availability\")]),r(\"br\"),t._v(\"\\nThis feature is available with Enterprise plans. See \"),r(\"a\",{attrs:{href:\"https://snyk.io/plans/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"pricing plans\"),r(\"OutboundLink\")],1),t._v(\" for more details.\\n{% endhint %}\")]),t._v(\" \"),r(\"p\",[t._v('{% hint style=\"success\" %}\\nThe Artifactory Package Repository integration currently supports '),r(\"a\",{attrs:{href:\"https://raw.githubusercontent.com/snyk/user-docs/main/docs/../products/snyk-open-source/language-and-package-manager-support/snyk-for-java-gradle-maven.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Maven\"),r(\"OutboundLink\")],1),t._v(\" and \"),r(\"a\",{attrs:{href:\"https://raw.githubusercontent.com/snyk/user-docs/main/docs/../products/snyk-open-source/language-and-package-manager-support/snyk-for-javascript.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Node.js\"),r(\"OutboundLink\")],1),t._v(\" (npm and Yarn) projects.\\n{% endhint %}\")]),t._v(\" \"),r(\"p\",[t._v(\"Connecting a custom Artifactory Package Repository enables Snyk to resolve all direct and transitive dependencies of packages hosted on the custom registry and calculate a more complete, accurate dependency graph and related vulnerabilities.\")]),t._v(\" \"),r(\"p\",[t._v(\"You can configure two types of Artifactory Package Repository:\")]),t._v(\" \"),r(\"ol\",[r(\"li\",[t._v(\"Publicly accessible instances protected by basic authentication\")]),t._v(\" \"),r(\"li\",[t._v(\"Instances on a private network accessed via a \"),r(\"a\",{attrs:{href:\"https://raw.githubusercontent.com/snyk/user-docs/main/docs/snyk-broker/broker-introduction.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Snyk Broker\"),r(\"OutboundLink\")],1),t._v(\" (with or without basic authentication)\")])]),t._v(\" \"),r(\"h3\",{attrs:{id:\"getting-started\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#getting-started\"}},[t._v(\"#\")]),t._v(\" Getting started\")]),t._v(\" \"),r(\"ol\",[r(\"li\",[t._v(\"Go to settings (IMAGE REMOVED!) - (https://raw.githubusercontent.com/snyk/user-docs/main/docs/.gitbook/assets/cog_icon.png) > \"),r(\"strong\",[t._v(\"Integrations > Package Repositories > Artifactory\")])]),t._v(\" \"),r(\"li\",[t._v(\"You should see this screen at the beginning\")])]),t._v(\" \"),r(\"p\",[t._v(\"(IMAGE REMOVED!) - (https://raw.githubusercontent.com/snyk/user-docs/main/docs/.gitbook/assets/screenshot_2020-04-17_at_14.38.12.png)\")]),t._v(\" \"),r(\"p\",[t._v('{% hint style=\"info\" %}\\nIf you do not see the “Snyk Broker” switch you do not have the necessary permissions and can only add a publicly accessible instance.'),r(\"br\"),t._v(\" \"),r(\"a\",{attrs:{href:\"https://support.snyk.io/hc/en-us/requests/new\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Contact our Support team\"),r(\"OutboundLink\")],1),t._v(\". if you want to add a private registry.\\n{% endhint %}\")]),t._v(\" \"),r(\"h3\",{attrs:{id:\"set-up-publicly-accessible-instances\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#set-up-publicly-accessible-instances\"}},[t._v(\"#\")]),t._v(\" Set up publicly accessible instances\")]),t._v(\" \"),r(\"ol\",[r(\"li\",[t._v(\"Enter URL of your Artifactory instance, this \"),r(\"strong\",[t._v(\"must\")]),t._v(\" end with \"),r(\"strong\",[t._v(\"/artifactory\")])]),t._v(\" \"),r(\"li\",[t._v(\"Enter Username\")]),t._v(\" \"),r(\"li\",[t._v(\"Enter Password\")]),t._v(\" \"),r(\"li\",[t._v(\"Hit \"),r(\"strong\",[t._v(\"Save\")])])]),t._v(\" \"),r(\"h3\",{attrs:{id:\"set-up-brokered-instances\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#set-up-brokered-instances\"}},[t._v(\"#\")]),t._v(\" Set up brokered instances\")]),t._v(\" \"),r(\"ol\",[r(\"li\",[r(\"p\",[t._v(\"Toggle \"),r(\"strong\",[t._v(\"Artifactory (publicly accessible)\")]),t._v(\" switch, you should now see a form for generating an Artifactory Broker token\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"Click on \"),r(\"strong\",[t._v(\"Generate and Save\")]),t._v(\" button\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"Copy the token that was generated for you, it will be needed to set up a new Broker Client\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"Pull Broker Artifactory image from Dockerhub:\")]),t._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[t._v(\"docker pull snyk/broker:artifactory\\n\")])])])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"Run docker image and provide \"),r(\"RouterLink\",{attrs:{to:\"/snyk/features/integrations/private-registry-integrations/artifactory-registry-setup.html#broker-variables\"}},[t._v(\"broker variables\")])],1),t._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[t._v(\"docker run --restart=always \\\\\\n  -p 8000:8000 \\\\\\n  -e BROKER_TOKEN=secret-broker-token \\\\\\n  -e ARTIFACTORY_URL=acme.com/artifactory \\\\\\n  -e RES_BODY_URL_SUB=http://acme.com/artifactory \\\\ \\n  snyk/broker:artifactory\\n\")])])])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"Check connection status by refreshing Artifactory Integration Settings page, no connection error should be displayed\")])])]),t._v(\" \"),r(\"h4\",{attrs:{id:\"broker-variables\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#broker-variables\"}},[t._v(\"#\")]),t._v(\" Broker variables\")]),t._v(\" \"),r(\"table\",[r(\"thead\",[r(\"tr\",[r(\"th\",[t._v(\"Variable\")]),t._v(\" \"),r(\"th\",[t._v(\"Description\")])])]),t._v(\" \"),r(\"tbody\",[r(\"tr\",[r(\"td\",[r(\"code\",[t._v(\"BROKER_TOKEN\")])]),t._v(\" \"),r(\"td\",[t._v(\"The token generated in settings (IMAGE REMOVED!) - (https://raw.githubusercontent.com/snyk/user-docs/main/docs/.gitbook/assets/cog_icon.png)\"),r(\"strong\",[t._v(\"> Integrations > Artifactory\")])])]),t._v(\" \"),r(\"tr\",[r(\"td\",[r(\"code\",[t._v(\"ARTIFACTORY_URL\")])]),t._v(\" \"),r(\"td\",[r(\"p\",[t._v(\"The URL to your Artifactory instance in the format:\"),r(\"br\"),r(\"code\",[t._v(\"[http://][username:password@]hostname[:port]/artifactory\")])]),r(\"p\",[r(\"strong\",[t._v(\"Optional fields\")])]),r(\"ol\",[r(\"li\",[r(\"em\",[t._v(\"Protocol\")]),t._v(\": Defaults to \"),r(\"code\",[t._v(\"https://\")]),r(\"br\"),t._v(\"This should only be specified when no certificate is present and \"),r(\"code\",[t._v(\"http://\")]),t._v(\" is required instead for your instance\")]),r(\"li\",[r(\"em\",[t._v(\"Basic auth\")]),t._v(\": Omit if no basic auth required.\"),r(\"br\"),t._v(\"URL encode both username and password info to avoid errors that may prevent authentication.\")]),r(\"li\",[r(\"em\",[t._v(\"Port\")]),t._v(\": Omit if no port number is needed\")])]),r(\"p\",[r(\"strong\",[t._v(\"Minimal example\")]),r(\"br\"),r(\"code\",[t._v(\"acme.com/artifactory\")])]),r(\"p\",[r(\"br\"),r(\"strong\",[t._v(\"Complex example\")]),r(\"br\"),r(\"code\",[t._v(\"http://alice:mypassword@acme.com:8080/artifactory\")])])])]),t._v(\" \"),r(\"tr\",[r(\"td\",[r(\"code\",[t._v(\"RES_BODY_URL_SUB\")])]),t._v(\" \"),r(\"td\",[r(\"p\",[t._v(\"The URL of the Artifactory instance, including http:// and without basic auth credentials.\"),r(\"br\"),r(\"br\"),t._v(\"Required for npm/Yarn integrations only.\")]),r(\"p\",[r(\"br\"),r(\"strong\",[t._v(\"Example\")]),r(\"br\"),r(\"code\",[t._v(\"http://acme.com/artifactory\")])])])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);","extractedComments":[]}