{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{629:function(t,e,o){\"use strict\";o.r(e);var a=o(56),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[o(\"h1\",{attrs:{id:\"example-setting-up-custom-mapping-for-okta\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#example-setting-up-custom-mapping-for-okta\"}},[t._v(\"#\")]),t._v(\" Example: Setting up custom mapping for Okta\")]),t._v(\" \"),o(\"p\",[t._v(\"The following page will show 2 different examples on how to configure a custom mapping called roles for Okta to be used for the \"),o(\"RouterLink\",{attrs:{to:\"/snyk/features/user-and-group-management/setting-up-sso-for-authentication/custom-mapping-option.html\"}},[t._v(\"Custom Mapping Option\")]),t._v(\".\")],1),t._v(\" \"),o(\"h3\",{attrs:{id:\"summary-diagram\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#summary-diagram\"}},[t._v(\"#\")]),t._v(\" Summary Diagram\")]),t._v(\" \"),o(\"p\",[o(\"img\",{attrs:{src:\"https://lh5.googleusercontent.com/cuQWU3uMkUSK-SZrKSdwt2V_vuaJ61bBqpDuTktQWmZ4vNcPsS-jfWsqiMg2lSmGIcPu9MKUJcaYqx4UbImYyWvPbUeqKuU0q4DQRssKnomHovfBnVuPWlwvyaQOrrworlAn_nMw\",alt:\"\"}})]),t._v(\" \"),o(\"h2\",{attrs:{id:\"configuration-1\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#configuration-1\"}},[t._v(\"#\")]),t._v(\" Configuration 1:\")]),t._v(\" \"),o(\"p\",[t._v(\"In this configuration:\")]),t._v(\" \"),o(\"ul\",[o(\"li\",[t._v(\"Okta groups will be mapped to Snyk Organizations\")]),t._v(\" \"),o(\"li\",[o(\"strong\",[t._v(\"User profiles will be tied to each user, not the Okta group\")])])]),t._v(\" \"),o(\"p\",[t._v(\"Once you’re set up with groups and users:\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[o(\"p\",[o(\"strong\",[t._v(\"Add attributes to your Snyk App in Okta\")])]),t._v(\" \"),o(\"ol\",[o(\"li\",[o(\"p\",[t._v(\"Directory -> Profile Editor -> Snyk App\\\\\")]),t._v(\" \"),o(\"hr\")])]),t._v(\" \"),o(\"p\",[o(\"img\",{attrs:{src:\"https://lh5.googleusercontent.com/h6ww6L16tTWMVhzoVN5Y72oBo51X-WYidqMAO-pTmUksl7akFrgH463S_MMAKDGYdQYzVIYlvN0HCF7tlHMyyIqaQgfdoP9PP6UX7RIJhg-9fFtmLdVwM3tgjVj-h97yKBAS4jGl\",alt:\"\"}})])]),t._v(\" \"),o(\"li\",[o(\"p\",[o(\"strong\",[t._v(\"Add Attribute\")]),o(\"br\"),t._v(\" \"),o(\"img\",{attrs:{src:\"https://lh4.googleusercontent.com/R1sr6ZOerCRNxJhGS3ARf0Pebe0dC-tBLP_80nARDd0LUGTjRY9jA1E-TiTtz4AQvk4aX-pAE__h2S14kgEb6RTSRzZ4O_1tOcBaCEwpTn2d4HaVuTynjN5D6qE4YSj3LZaiE5WN\",alt:\"\"}})])]),t._v(\" \"),o(\"li\",[o(\"p\",[o(\"strong\",[t._v(\"Set Attributes\")])]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Data Type: string array\")]),t._v(\" \"),o(\"li\",[t._v(\"Display Name: Snyk Orgs\")]),t._v(\" \"),o(\"li\",[t._v(\"Variable Name: snyk_orgs\")]),t._v(\" \"),o(\"li\",[t._v(\"Group Priority: Combine values across groups\")]),t._v(\" \"),o(\"li\",[t._v(\"Save and Add Another\")])]),t._v(\" \"),o(\"p\",[o(\"img\",{attrs:{src:\"https://lh3.googleusercontent.com/sIXILVtJJeo9wbjzVSEVNmSVPwkMPeUu1j5yeBxi-mBEgwu4Ejn-4d0tZhtUZay2EV0PkN8wSE0uJgON3csAyXCEKVAAcpShqPKdbz_U1D3ghx5sTCEhBJliRYIIEOf72c3H1TS5\",alt:\"\"}})]),t._v(\" \"),o(\"hr\")]),t._v(\" \"),o(\"li\",[o(\"p\",[o(\"strong\",[t._v(\"Set Attributes\")])]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Data Type: String\")]),t._v(\" \"),o(\"li\",[t._v(\"Display Name: Snyk User Role\")]),t._v(\" \"),o(\"li\",[t._v(\"Variable Name: user_role\")]),t._v(\" \"),o(\"li\",[t._v(\"Enum: Yes\")]),t._v(\" \"),o(\"li\",[t._v(\"Scope: User Personal\")]),t._v(\" \"),o(\"li\",[t._v(\"Attributes Members\\n\"),o(\"ol\",[o(\"li\",[t._v(\"Collaborator: collaborator (or collab)\")]),t._v(\" \"),o(\"li\",[t._v(\"Admin: administrator (or admin)\")]),t._v(\" \"),o(\"li\",[t._v(\"GroupAdmin: groupadmin\")])])]),t._v(\" \"),o(\"li\",[t._v(\"Attribute Required: Yes\")]),t._v(\" \"),o(\"li\",[t._v(\"Save\")])]),t._v(\" \"),o(\"p\",[o(\"img\",{attrs:{src:\"https://lh3.googleusercontent.com/THGLLKFdDMvTnRrWkoWmC_LGq5GJlw2c9Ht9pLzk_-mUodeDbeFe4xO0F8jDB8Wwvvw-4CloAqFdSubc1VttSbSusmWqw0iju_dhzCuho_3im_uGNf1ShYaakMnT-Bxoizo-L7dB\",alt:\"\"}})]),t._v(\" \"),o(\"hr\")]),t._v(\" \"),o(\"li\",[o(\"p\",[o(\"strong\",[t._v(\"Directory -> Groups\")])]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Select a group and navigate to Applications Tab and click Assign applications and assign the Snyk app to the group\")]),t._v(\" \"),o(\"li\",[t._v(\"The Snyk app should be present and click on the pencil next to the snyk app\"),o(\"br\"),t._v(\" \"),o(\"img\",{attrs:{src:\"https://lh3.googleusercontent.com/X3ARoW_GPcKqIvrowKVPGnBWgziZ4E87hCIRVXzvLkLXOuLvP9fS5y9D-yaCjyWCmr6Co-_3JSA2ZS-MdM5gEF9JYRi4Ivid-tnijtkpQstm7XgFbhAlnZnRM9D1DKYUsnHm987R\",alt:\"\"}})]),t._v(\" \"),o(\"li\",[t._v(\"Add the Snyk organization slugs that you want to associate with your OKTA group (there should NOT be any spaces or capital letter(s)\"),o(\"br\"),t._v(\" \"),o(\"img\",{attrs:{src:\"https://lh5.googleusercontent.com/74SiCm6xOoCRnG9LEpMCeCCHyJA-8viDYL0yNbh0ZQeIpV8wuharGBXp6aIsJB0P1Zjbkn1g2vFr2EcxYawyfh_axoGISUewc4fXara8oQ4BTsE8_wlprwd1Df5CeVlYgGgoOjsj\",alt:\"\"}})]),t._v(\" \"),o(\"li\",[t._v(\"Repeat steps 1-3 for all your applicable OKTA groups, modifying the Snyk organization slug as needed\")])])]),t._v(\" \"),o(\"li\",[o(\"p\",[o(\"strong\",[t._v(\"Directory -> People\")])]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"For each individual, go to the applications tab for the user and click on the pencil next to the app\"),o(\"br\"),t._v(\" \"),o(\"img\",{attrs:{src:\"https://lh5.googleusercontent.com/7RnhYZ0E24ZoBXe00Zw9jQW_WbPye2lciWm2qk3zG03mLY6JbsAY7saY-0b26zEGArnDw46MulIgg9XW7Dw9HCt-EODS5qSZquanpNlmfwDHUYL71BQILAfAYifxHf8UBE0BB3Ww\",alt:\"\"}})]),t._v(\" \"),o(\"li\",[t._v(\"Select the right user role\"),o(\"br\"),t._v(\" \"),o(\"img\",{attrs:{src:\"https://lh4.googleusercontent.com/XPclvljK5ZsmLx1Cu3odPCFWz0oj4ZRk9ZkdG-gTto3vMWZWtMQ_ONHVggh-xHL1UkRwId1eJFh8rZwCrbfUGvhKlL9BBzi3U46d3HXYE8YzFMtS8EIJxBljOim5LvSMarKyNXyZ\",alt:\"\"}})])]),t._v(\" \"),o(\"p\",[o(\"strong\",[t._v(\"Implementation\")])]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Navigate to Applications -> Applications and click on the Snyk app you set\")]),t._v(\" \"),o(\"li\",[t._v(\"General Tab -> SAML Settings -> Edit and click next to go to the Configure SAML step\")]),t._v(\" \"),o(\"li\",[t._v(\"Attribute Statements-> set \"),o(\"strong\",[t._v(\"role\")]),t._v(\" as the Name field with Name format \"),o(\"strong\",[t._v(\"Unspecified\")]),t._v(\" and the Value will be the below expression\"),o(\"br\"),t._v(\" \"),o(\"code\",[t._v('appuser.user_role == \"groupadmin\" ? \"snyk-groupadmin\" : Arrays.flatten(String.replace(String.replace(String.append(\"snyk-\",String.append(Arrays.toCsvString(appuser.snyk_orgs),\"-\"+appuser.user_role)),\",\",\",snyk-\"),\",\",\"-\"+appuser.group_user_role+\",\"))')])]),t._v(\" \"),o(\"li\",[t._v(\"Click Next -> Finish\\\\\")])]),t._v(\" \"),o(\"p\",[o(\"strong\",[t._v(\"Explanation of the role expression:\")])]),t._v(\" \"),o(\"p\",[t._v(\"If the role is groupadmin, the expression will ignore everything else and just pass \"),o(\"code\",[t._v(\"snyk-groupadmin\")]),o(\"br\"),t._v(\"\\n``\")]),t._v(\" \"),o(\"p\",[t._v(\"If role is \"),o(\"strong\",[t._v(\"not\")]),t._v(\" groupadmin, then for each snyk org listed across all groups the expression will automatically\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"concatenate prefix “\"),o(\"code\",[t._v(\"snyk-\")]),t._v(\"” with the snyk org slug\")]),t._v(\" \"),o(\"li\",[t._v(\"Append \"),o(\"code\",[t._v(\"user_role\")]),t._v(\" at the end of each org slug\")])]),t._v(\" \"),o(\"p\",[o(\"br\"),t._v(\"\\nSo an example end result will look as below\")]),t._v(\" \"),o(\"p\",[o(\"br\"),t._v(\"\\nExample: \"),o(\"code\",[t._v('\"role\": [ \"snyk-groupadmin\", \"snyk-customer-facing-tools-admin\", \"snyk-internal-tools-admin\" ]')])])])]),t._v(\" \"),o(\"h2\",{attrs:{id:\"configuration-2\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#configuration-2\"}},[t._v(\"#\")]),t._v(\" Configuration 2:\")]),t._v(\" \"),o(\"p\",[t._v(\"In this configuration:\")]),t._v(\" \"),o(\"ul\",[o(\"li\",[t._v(\"Okta groups will be mapped to Snyk organizations\")]),t._v(\" \"),o(\"li\",[t._v(\"Okta groups will be mapped to Snyk organization membership roles\")]),t._v(\" \"),o(\"li\",[o(\"strong\",[t._v(\"The user role in Snyk is pre-set in each Okta group for all members of that group\")])])]),t._v(\" \"),o(\"ol\",[o(\"li\",[o(\"strong\",[t._v(\"Add attributes to your Snyk App in Okta\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Directory -> Profile Editor -> Snyk App\")])])])]),t._v(\" \"),o(\"p\",[o(\"img\",{attrs:{src:\"https://lh5.googleusercontent.com/h6ww6L16tTWMVhzoVN5Y72oBo51X-WYidqMAO-pTmUksl7akFrgH463S_MMAKDGYdQYzVIYlvN0HCF7tlHMyyIqaQgfdoP9PP6UX7RIJhg-9fFtmLdVwM3tgjVj-h97yKBAS4jGl\",alt:\"\"}})]),t._v(\" \"),o(\"p\",[o(\"strong\",[t._v(\"2. Add Attribute\")]),o(\"br\"),t._v(\" \"),o(\"img\",{attrs:{src:\"https://lh4.googleusercontent.com/R1sr6ZOerCRNxJhGS3ARf0Pebe0dC-tBLP_80nARDd0LUGTjRY9jA1E-TiTtz4AQvk4aX-pAE__h2S14kgEb6RTSRzZ4O_1tOcBaCEwpTn2d4HaVuTynjN5D6qE4YSj3LZaiE5WN\",alt:\"\"}})]),t._v(\" \"),o(\"p\",[o(\"strong\",[t._v(\"3. Set Attributes\")])]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Data Type: string array\")]),t._v(\" \"),o(\"li\",[t._v(\"Display Name: Snyk Orgs\")]),t._v(\" \"),o(\"li\",[t._v(\"Variable Name: snyk_orgs\")]),t._v(\" \"),o(\"li\",[t._v(\"Group Priority: Combine values across groups\")]),t._v(\" \"),o(\"li\",[t._v(\"Save and Add Another\")])]),t._v(\" \"),o(\"p\",[o(\"img\",{attrs:{src:\"https://lh3.googleusercontent.com/sIXILVtJJeo9wbjzVSEVNmSVPwkMPeUu1j5yeBxi-mBEgwu4Ejn-4d0tZhtUZay2EV0PkN8wSE0uJgON3csAyXCEKVAAcpShqPKdbz_U1D3ghx5sTCEhBJliRYIIEOf72c3H1TS5\",alt:\"\"}}),o(\"br\"),t._v(\" \"),o(\"br\"),t._v(\" \"),o(\"strong\",[t._v(\"4. Directory -> Groups\")])]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Select a group and navigate to Applications Tab and click Assign applications and assign the Snyk app to the group\")]),t._v(\" \"),o(\"li\",[t._v(\"The Snyk app should be present and click on the pencil next to the snyk app\"),o(\"br\"),t._v(\" \"),o(\"img\",{attrs:{src:\"https://lh3.googleusercontent.com/X3ARoW_GPcKqIvrowKVPGnBWgziZ4E87hCIRVXzvLkLXOuLvP9fS5y9D-yaCjyWCmr6Co-_3JSA2ZS-MdM5gEF9JYRi4Ivid-tnijtkpQstm7XgFbhAlnZnRM9D1DKYUsnHm987R\",alt:\"\"}})]),t._v(\" \"),o(\"li\",[t._v(\"Add the Snyk organization slugs that you want to associate with your OKTA group (there should NOT be any spaces or capital letter(s) \"),o(\"strong\",[t._v(\"NOTE\")]),t._v(\": In this configuration, you add the role within this Snyk Org Slugs assignment\"),o(\"br\"),t._v(\" \"),o(\"br\"),t._v(\" \"),o(\"img\",{attrs:{src:\"https://lh4.googleusercontent.com/qUN0SI64WQqAGCs2YPrvIW0lyZAyZDnGgpYe_mXyGIPa2XqgBJJa3DBpg_qGdoHxXql7kNrzrBkzY7T660es0qGcSH5wSbBw1DANk9f1_q6SHDQXjxNFKRaVVCuZICVkFbnGYUz6\",alt:\"\"}})]),t._v(\" \"),o(\"li\",[t._v(\"Repeat steps 1-3 for all your applicable OKTA groups, as this will assign both the same orgslug and role to each user within the configured group.\")])]),t._v(\" \"),o(\"h3\",{attrs:{id:\"implementation\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#implementation\"}},[t._v(\"#\")]),t._v(\" Implementation\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[o(\"p\",[t._v(\"Navigate to Applications -> Applications and click on the Snyk app you set\")])]),t._v(\" \"),o(\"li\",[o(\"p\",[t._v(\"General Tab -> Edit SAML Settings and click next to go to the Configure SAML step\")])]),t._v(\" \"),o(\"li\",[o(\"p\",[t._v(\"Set an Attribute Statement named “role” of an unspecified type\")])]),t._v(\" \"),o(\"li\",[o(\"p\",[t._v(\"Attribute Statements-> set \"),o(\"strong\",[t._v(\"role\")]),t._v(\" as the Name field with Name format \"),o(\"strong\",[t._v(\"Unspecified\")]),t._v(\" and the Value will be the below expression.\")]),t._v(\" \"),o(\"p\",[o(\"code\",[t._v('Arrays.flatten(String.replace(String.append(\"snyk-\",Arrays.toCsvString(appuser.snyk_orgs)),\",\",\",snyk-\"))')])])])]),t._v(\" \"),o(\"h3\",{attrs:{id:\"explanation-of-the-value-expression\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#explanation-of-the-value-expression\"}},[t._v(\"#\")]),t._v(\" \"),o(\"strong\",[t._v(\"Explanation of the value expression\")])]),t._v(\" \"),o(\"ol\",[o(\"li\",[o(\"p\",[t._v(\"The end result should look like the below. The expression in the \"),o(\"strong\",[t._v(\"role\")]),t._v(\" attribute automatically adds the 'snyk' in front of the snyk_orgs value (which contains <orgslug>-<role> \"),o(\"strong\",[t._v(\"OR\")]),t._v(\" <groupadmin>) such that the end result should look similar to the below example.\\\\\")]),t._v(\" \"),o(\"p\",[t._v(\"Example result: \"),o(\"code\",[t._v(\"[“snyk-org1-admin”,”snyk-org2-admin”, “snyk-org3-collaborator”,”snyk-org4-collaborator”,”snyk-groupadmin”]\")])])])])])}),[],!1,null,null,null);e.default=r.exports}}]);","extractedComments":[]}